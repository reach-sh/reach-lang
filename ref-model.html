<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-2');</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><script src="tooltips.js"></script><script src="reach-pre.js"></script><link rel="stylesheet" href="tooltips.css"><link rel="stylesheet" href="reach.css"><link rel="stylesheet" href="minted.css"><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5.3&nbsp;Language Model</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="figure.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="figure.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewselflink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="install.html" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="ref-usage.html" class="tocviewlink" data-pltdoc="x">Usage</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Language Model</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewlink" data-pltdoc="x">Programs</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="ref-networks.html" class="tocviewlink" data-pltdoc="x">Consensus Network Connectors</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="ref-backends.html" class="tocviewlink" data-pltdoc="x">Participant Backends</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>5.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Language Model</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.3.1&nbsp;</td><td><a href="#%28part._ref-model-eval%29" class="tocviewlink" data-pltdoc="x">Evaluation Model</a></td></tr><tr><td align="right">5.3.2&nbsp;</td><td><a href="#%28part._ref-model-compile%29" class="tocviewlink" data-pltdoc="x">Compilation Model</a></td></tr><tr><td align="right">5.3.3&nbsp;</td><td><a href="#%28part._ref-model-syntax%29" class="tocviewlink" data-pltdoc="x">Syntax Model</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">5.3.1<tt>&nbsp;</tt></span><a href="#%28part._ref-model-eval%29" class="tocsubseclink" data-pltdoc="x">Evaluation Model</a></td></tr><tr><td><span class="tocsublinknumber">5.3.2<tt>&nbsp;</tt></span><a href="#%28part._ref-model-compile%29" class="tocsubseclink" data-pltdoc="x">Compilation Model</a></td></tr><tr><td><span class="tocsublinknumber">5.3.3<tt>&nbsp;</tt></span><a href="#%28part._ref-model-syntax%29" class="tocsubseclink" data-pltdoc="x">Syntax Model</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">0.1.2</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-usage.html" title="backward to &quot;5.2 Usage&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref.html" title="up to &quot;5 Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-programs.html" title="forward to &quot;5.4 Programs&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>5.3<tt>&nbsp;</tt><a name="(part._ref-model)"></a>Language Model</h4><p>This document describes the fundamental assumptions and concepts of Reach. First, we discuss the model of running a Reach program in <a href="#%28part._ref-model-eval%29" data-pltdoc="x">Evaluation Model</a>. Next, we discuss the details about compilation of a Reach program that are relevant to Reach programmers in <a href="#%28part._ref-model-compile%29" data-pltdoc="x">Compilation Model</a>. Finally, we discuss how Reach programs are syntactically constructed in <a href="#%28part._ref-model-syntax%29" data-pltdoc="x">Syntax Model</a>.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This is not an introduction to Reach.
We recommend reading <a href="overview.html" data-pltdoc="x">the overview</a> for an introduction to what Reach is and the <a href="tut.html" data-pltdoc="x">tutorial</a> to get started with programming Reach.</p><p>Furthermore, it is not an introduction to <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a> or "blockchain".
If you would like to read such an introduction, we recommend the <a href="https://en.wikipedia.org/wiki/Consensus_(computer_science)">Wikipedia article on consensus</a> and the <a href="https://en.wikipedia.org/wiki/Blockchain">Wikipedia article on blockchains</a>.</p></blockquote></blockquote></blockquote><h5>5.3.1<tt>&nbsp;</tt><a name="(part._ref-model-eval)"></a>Evaluation Model</h5><p><div class="SIntrapara">Reach programs specify a decentralized application (<a name="(tech._dapp)"></a><span style="font-style: italic">DApp</span>), which is a distributed computation involving many <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> and utilizing one <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> on one <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a> for reaching agreement on the intermediate <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> of the computation.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>"Many" is a technical term that means "zero or more".</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">When the computation terminates, all <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> agree on the outcome, because they agreed on the intermediate <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>.</div></p><p>At the start of a Reach computation, the set of <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> is not necessarily known and can evolve throughout the execution of the application.</p><p>A <a name="(tech._consensus._network)"></a><span style="font-style: italic">consensus network</span> is a network protocol with a <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network token</span></a>, a set of <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a>, a set of <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contracts</span></a>, and a <a href="#%28tech._time%29" class="techoutside" data-pltdoc="x"><span class="techinside">time</span></a>.
A <a name="(tech._network._token)"></a><span style="font-style: italic">network token</span> is an opaque unit of account.
A <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a>&rsquo;s <a name="(tech._time)"></a><span style="font-style: italic">time</span> is some monotonically increasing discrete value from a totally ordered set.
A <a name="(tech._time._delta)"></a><span style="font-style: italic">time delta</span> represents the difference between two points in <a href="#%28tech._time%29" class="techoutside" data-pltdoc="x"><span class="techinside">time</span></a> as a discrete number of <a href="#%28tech._time%29" class="techoutside" data-pltdoc="x"><span class="techinside">time</span></a> units.
<a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">Consensus networks</span></a> support <a name="(tech._transfer)"></a><span style="font-style: italic">transfers</span> of <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a> between <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a>. An <a name="(tech._account)"></a><span style="font-style: italic">account</span> is a unique identity (called an <a name="(tech._addres)"></a><span style="font-style: italic">address</span>) with a non-negative balance of <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a>.
<a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">Accounts</span></a> may sign <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> in a way that may not be repudiated or impersonated; this is called <a name="(tech._publication)"></a><span style="font-style: italic">publication</span>.
<a name="(tech._contract)"></a><span style="font-style: italic">Contracts</span> are <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a> with three extra capacities: they persistently store <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> (called the <a name="(tech._consensus._state)"></a><span style="font-style: italic">consensus state</span>), they may receive <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publications</span></a>, and when they receive <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publications</span></a>, they systematically process them and may modify their <a href="#%28tech._consensus._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus state</span></a>, make <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publications</span></a>, and may <a href="#%28tech._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transfer</span></a> <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a> in response to the reception.
The creation of a <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> is called <a name="(tech._deploy)"></a><span style="font-style: italic">deploy</span>ment.
The chapter, <a href="ref-networks.html" data-pltdoc="x">Consensus Network Connectors</a>, discusses which <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a> are supported by Reach.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>This description of <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a> is an abstraction that may not be directly implemented by actual networks.</p><p>For example, in UTXO-based networks, there is not typically an explicitly represented <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> balance ledger.
However, such networks do <span class="emph">abstractly</span> have <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a> with balances, because particular private keys represent <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a> which have exclusive access to some set of <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a> which is their balance.</p><p>Similarly, Reach&rsquo;s notion of time may appear overly abstract ("monotonically increasing ... totally ordered set") if you know that many consensus networks are based on blockchains and use the chain length, also called the height or block number, as a notion of time.
In this case, <a href="#%28tech._time%29" class="techoutside" data-pltdoc="x"><span class="techinside">time</span></a> would be a natural number, which is a prototypical model of a totally ordered set.
However, Reach is flexible enough to support non-blockchain-based consensus networks, so it does not mandate this particular natural number-based notion of time.</p><p>Finally, Reach&rsquo;s definition of <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a> does not require any particular technology or features of this.
In particular, it does not only refer to so-called "layer-1" protocols, nor does it exclude centralized systems with trusted parties controlling the network.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara">A <a name="(tech._participant)"></a><span style="font-style: italic">participant</span> is a logical actor which takes part in a <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>.
A <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> is said to <a name="(tech._join)"></a><span style="font-style: italic">join</span> an application when it first makes a <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publication</span></a>.
It is associated with an <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> on the <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a>.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The same <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> may be used by multiple <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> in a <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">A <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> has persistently stored <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>, called its <a name="(tech._local._state)"></a><span style="font-style: italic">local state</span>. It has a <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontend</span></a> which it <a href="#%28tech._interact%29" class="techoutside" data-pltdoc="x"><span class="techinside">interacts</span></a> with. A <a name="(tech._frontend)"></a><span style="font-style: italic">frontend</span> is an abstract actor which supports a set of functions which consume and produce <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>; when a <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> invokes one of these functions it is referred to as <a name="(tech._interact)"></a><span style="font-style: italic">interact</span>ion.</div></p><p><div class="SIntrapara">Since <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApps</span></a> have an associated <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a>, they have an associated <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a>. </div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> account must be distinct from all <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">accounts</span></a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"> This <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> is assumed to be empty when the computation starts.</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>On some <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a>, it is possible for <a href="#%28tech._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transfers</span></a> to a <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> to occur outside of the purview of Reach. If this occurs, then those <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a> are remitted to the <a href="#%28tech._originator%29" class="techoutside" data-pltdoc="x"><span class="techinside">originator</span></a> of the final <a href="#%28tech._consensus._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus transfer</span></a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"> Any <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network token</span></a>s transferred into the <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> must be removed by the <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>&rsquo;s completion. This is called the <a name="(tech._token._linearity._property)"></a><span style="font-style: italic">token linearity property</span>.</div></p><p>A <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a> computation can be seen as a graph of <a href="#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">steps</span></a> with a unique first <a href="#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">step</span></a>. A <a name="(tech._step)"></a><span style="font-style: italic">step</span> is a set of <a href="#%28tech._local._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">local steps</span></a> by <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> followed by a single <a href="#%28tech._consensus._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus step</span></a> introduced via a single <a href="#%28tech._consensus._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus transfer</span></a>.</p><p>A <a name="(tech._local._step)"></a><span style="font-style: italic">local step</span> is executed by a single <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> and is a sequence of <a href="#%28tech._local._computation%29" class="techoutside" data-pltdoc="x"><span class="techinside">local computations</span></a>. A <a name="(tech._local._computation)"></a><span style="font-style: italic">local computation</span> may bind a piece of <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a>, <a href="#%28tech._assert%29" class="techoutside" data-pltdoc="x"><span class="techinside">assert</span></a> a property of the <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a>, or <a href="#%28tech._interact%29" class="techoutside" data-pltdoc="x"><span class="techinside">interact</span></a> with the <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontend</span></a>. A <a name="(tech._consensus._transfer)"></a><span style="font-style: italic">consensus transfer</span> is executed by a single <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> (called the <a name="(tech._originator)"></a><span style="font-style: italic">originator</span>) which makes a <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publication</span></a> of a set of <a href="#%28tech._public%29" class="techoutside" data-pltdoc="x"><span class="techinside">public</span></a> <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> from its <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a> and <a href="#%28tech._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transfers</span></a> zero or more <a href="#%28tech._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">network tokens</span></a> to the <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> <a href="#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a>. A <a href="#%28tech._consensus._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus transfer</span></a> specifies an alternative <a href="#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">step</span></a>, called a <a name="(tech._timeout)"></a><span style="font-style: italic">timeout</span>, that is executed if the <a href="#%28tech._originator%29" class="techoutside" data-pltdoc="x"><span class="techinside">originator</span></a> fails to make the transfer before a given <a href="#%28tech._time._delta%29" class="techoutside" data-pltdoc="x"><span class="techinside">time delta</span></a> has elapsed. All <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a> is initially <a name="(tech._private)"></a><span style="font-style: italic">private</span>, until it is explicitly made <a name="(tech._public)"></a><span style="font-style: italic">public</span> via a <a name="(tech._declassification)"></a><span style="font-style: italic">declassification</span>, which is a kind of <a href="#%28tech._local._computation%29" class="techoutside" data-pltdoc="x"><span class="techinside">local computation</span></a>.</p><p>A <a name="(tech._consensus._step)"></a><span style="font-style: italic">consensus step</span> is a graph of <a href="#%28tech._consensus._computation%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus computations</span></a> with a unique first computation.
A <a name="(tech._consensus._computation)"></a><span style="font-style: italic">consensus computation</span> either binds <a href="#%28tech._consensus._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus state</span></a>, <a href="#%28tech._assert%29" class="techoutside" data-pltdoc="x"><span class="techinside">asserts</span></a> a property of the <a href="#%28tech._consensus._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus state</span></a>, performs a <a href="#%28tech._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">transfer</span></a>, selects between different next <a href="#%28tech._consensus._computation%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus computations</span></a>, or <a name="(tech._commit)"></a><span style="font-style: italic">commits</span> to the next <a href="#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">step</span></a>.</p><p>An <a name="(tech._assert)"></a><span style="font-style: italic">assert</span>ion is either: a <a name="(tech._knowledge._assertion)"></a><span style="font-style: italic">knowledge assertion</span>, which is a claim that one <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> cannot know something that another <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> does know; a <a name="(tech._static._assertion)"></a><span style="font-style: italic">static assertion</span>, which is an always-true formula; an <a name="(tech._assumption)"></a><span style="font-style: italic">assumption</span>, which is a true formula if <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontends</span></a> behave <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a>ly; a <a name="(tech._requirement)"></a><span style="font-style: italic">requirement</span>, which is a true formula if <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> behave <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a>ly; or, a <a name="(tech._possibility._assertion)"></a><span style="font-style: italic">possibility assertion</span>, which is a formula for which there exists some values that <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> and <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontends</span></a> could submit which results in the truth of the formula.
An <a name="(tech._honest)"></a><span style="font-style: italic">honest</span> <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> is one that executes the <a href="#%28tech._step%29" class="techoutside" data-pltdoc="x"><span class="techinside">steps</span></a> specified by the <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>, while an <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontend</span></a> is one that only returns <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> which ensure that all <a href="#%28tech._assumption%29" class="techoutside" data-pltdoc="x"><span class="techinside">assumptions</span></a> evaluate to the boolean <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28true%29%29%29" class="kc" data-pltdoc="x">true</a></code>.</p><p>A <a name="(tech._value)"></a><span style="font-style: italic">value</span> is either: the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">null</span><span class="hspace"></span></span> value, a boolean, an unsigned integer of 256 bits, a string of bytes, a <a href="#%28tech._digest%29" class="techoutside" data-pltdoc="x"><span class="techinside">digest</span></a>, an <a href="#%28tech._addres%29" class="techoutside" data-pltdoc="x"><span class="techinside">address</span></a>, a fixed tuple of <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>, a statically-sized homogeneous array of <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>, or a fixed record of <a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>.
<a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">Values</span></a> may be <a name="(tech._digest)"></a><span style="font-style: italic">digest</span>ed to produce a <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function">cryptographic hash</a> of their binary encoding.</p><p><a href="#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">Values</span></a> are in one of three possible conditions. They could be <a href="#%28tech._consensus._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus state</span></a>, in which case they are known to all <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a>. They could be <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a> of a single <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a>, which means they are known by only that <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a>. <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">Local state</span></a> is further divided into <a href="#%28tech._private%29" class="techoutside" data-pltdoc="x"><span class="techinside">private</span></a> <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a>, which cannot be included in a <a href="#%28tech._publication%29" class="techoutside" data-pltdoc="x"><span class="techinside">publication</span></a>, and <a href="#%28tech._public%29" class="techoutside" data-pltdoc="x"><span class="techinside">public</span></a> <a href="#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a>, which can. These conditions are summarized in <a href="#%28counter._%28figure._fig~3avalue-states%29%29" data-pltdoc="x">figure&nbsp;<span class="FigureRef">1</span></a>.</p><blockquote class="Figure"><blockquote class="Centerfigure"><blockquote class="FigureInside"><p><img style="vertical-align: -32.830078125px; margin: -3px -3px -3px -3px;" src="pict.png" alt="image" width="452.427734375" height="93.9375"/></p></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fig~3avalue-states))" x-target-lift="Figure"></a>Figure&nbsp;1: </span>The three conditions of values</span></p></blockquote><h5>5.3.2<tt>&nbsp;</tt><a name="(part._ref-model-compile)"></a>Compilation Model</h5><p>Reach programs cannot execute independently of a <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a> and a set of <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontends</span></a>.
Thus, the semantics of Reach treats these components abstractly and does not specify their semantics.
Therefore, the semantics of Reach cannot be effectively implemented directly in a virtual machine or interpreter.
Instead, Reach programs are <a name="(tech._compile)"></a><span style="font-style: italic">compile</span>d to
a particular <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a> <a name="(tech._connector)"></a><span style="font-style: italic">connector</span>
and a set of <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> <a name="(tech._backend)"></a><span style="font-style: italic">backends</span>
which execute the computation of the particular <a href="#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a>.
<a href="#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">Connectors</span></a> and <a href="#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backends</span></a> are sound
if they faithfully model the abstract semantics assumed by Reach.</p><p>During compilation, the Reach compiler automatically verifies that the <a href="#%28tech._token._linearity._property%29" class="techoutside" data-pltdoc="x"><span class="techinside">token linearity property</span></a> and all <a href="#%28tech._static._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">static assertions</span></a> and <a href="#%28tech._possibility._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">possibility assertions</span></a> are true whether <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participants</span></a> and <a href="#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontends</span></a> are <a href="#%28tech._honest%29" class="techoutside" data-pltdoc="x"><span class="techinside">honest</span></a> or not.
Similarly, all <a href="#%28tech._knowledge._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">knowledge assertions</span></a> are verified using a conservative approximation of <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> knowledge.
This conservative approximation assumes that all inputs to a computation are revealed by the result of the computation, except for <a href="#%28tech._digest%29" class="techoutside" data-pltdoc="x"><span class="techinside">digests</span></a> and <a href="#%28tech._interact%29" class="techoutside" data-pltdoc="x"><span class="techinside">interact</span></a>ion.
This approximation means that Reach cannot, for example, reason about the details of manually expressed encryption formulas and will assume they are insecure.</p><p>If these <a href="#%28tech._assert%29" class="techoutside" data-pltdoc="x"><span class="techinside">assert</span></a>ions cannot be statically verified, then the compilation process aborts.
After this verification, such <a href="#%28tech._static._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">static assertions</span></a> and <a href="#%28tech._possibility._assertion%29" class="techoutside" data-pltdoc="x"><span class="techinside">possibility assertions</span></a> are removed from the program and do not occur at runtime.
In contrast, <a href="#%28tech._assumption%29" class="techoutside" data-pltdoc="x"><span class="techinside">assumptions</span></a> are enforced at runtime by <a href="#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backends</span></a> and <a href="#%28tech._requirement%29" class="techoutside" data-pltdoc="x"><span class="techinside">requirements</span></a> are enforced at runtime by <a href="#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connectors</span></a>.
If <a href="#%28tech._assumption%29" class="techoutside" data-pltdoc="x"><span class="techinside">assumptions</span></a> are violated at runtime, then the <a href="#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backend</span></a> aborts.
If <a href="#%28tech._requirement%29" class="techoutside" data-pltdoc="x"><span class="techinside">requirements</span></a> are violated at runtime, then the <a href="#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connector</span></a> ensures that all aspects of the <a href="#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a> (the <a href="#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> and <a href="#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a>) ignore the inducing <a href="#%28tech._consensus._transfer%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus transfer</span></a>, which often results in a <a href="#%28tech._timeout%29" class="techoutside" data-pltdoc="x"><span class="techinside">timeout</span></a>.</p><h5>5.3.3<tt>&nbsp;</tt><a name="(part._ref-model-syntax)"></a>Syntax Model</h5><p>Reach programs are specified via a subset of well-formed JavaScript syntax inside <a href="ref-programs-module.html#%28tech._source._file%29" class="techoutside" data-pltdoc="x"><span class="techinside">source files</span></a>. The section <a href="ref-programs.html" data-pltdoc="x">Programs</a> describes the syntax of Reach programs in detail.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-usage.html" title="backward to &quot;5.2 Usage&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref.html" title="up to &quot;5 Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-programs.html" title="forward to &quot;5.4 Programs&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div><script src="reach-post.js"></script></body></html>