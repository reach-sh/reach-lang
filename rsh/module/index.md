[{"bookPath":"","title":"Modules","titleId":"ref-programs-module","hasOtp":true,"hasPageHeader":true},"<p>\n  <i id=\"p_0\" class=\"pid\"></i>A Reach <span class=\"term\" id=\"term_source%20file\">source file</span> is a textual file which specifies a Reach <span class=\"ui-tooltip\" title=\"a component of a software program containing one or more routines, it can be a separate file from the main program\"><span style=\"cursor: help\">module</span></span>.\n  It is traditionally given the file extension <code>rsh</code>, e.g. <code>dao.rsh</code>.<a href=\"#p_0\" class=\"pid\">0</a>\n</p>\n<p><i id=\"p_1\" class=\"pid\"></i>A <span class=\"term\" id=\"term_module\">module</span> starts with <span class=\"snip\"><span style=\"color: var(--shiki-token-string-expression)\">'reach 0.1'</span><span style=\"color: var(--shiki-color-text)\">;</span></span> followed by a sequence of imports and identifier definitions.<a href=\"#p_1\" class=\"pid\">1</a></p>\n<div class=\"note\">\n  <p><i id=\"p_2\" class=\"pid\"></i>See <a href=\"/guide/versions/#guide-versions\">the guide section on versions</a> to understand how Reach uses version numbers like this.<a href=\"#p_2\" class=\"pid\">2</a></p>\n</div>\n<h2 id=\"ref-programs-module-stmts\" class=\"refHeader\">Statements<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-module-stmts\"><span class=\"icon icon-link\"></span></a></h2>\n<p>\n  <i id=\"p_3\" class=\"pid\"></i>Any statements valid for a <a href=\"/rsh/compute/#ref-programs-compute-stmts\">computation</a> are valid for a module.\n  However, some additional statements are allowed.<a href=\"#p_3\" class=\"pid\">3</a>\n</p>\n<h3 id=\"ref-programs-export\" class=\"refHeader\"><code>export</code><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-export\"><span class=\"icon icon-link\"></span></a></h3>\n<p>\n  <i id=\"p_4\" class=\"pid\"></i>Module-level identifier definitions may be <span class=\"term\" id=\"term_export\">export</span>ed\n  by writing <span class=\"ref\" id=\"rsh_export\" data-scope=\"rsh\" data-symbol=\"export\"></span><span class=\"snip\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a></span> in front of them.\n  For example,<a href=\"#p_4\" class=\"pid\">4</a>\n</p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const x = 1;\nexport const [a, b, ...more] = [ 0, 1, 2, 3, 4 ];\nexport function add1(x) { return x + 1; };\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">x</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">1</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"2\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> [</span><span style=\"color: var(--shiki-token-constant)\">a</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">b</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">...</span><span style=\"color: var(--shiki-token-constant)\">more</span><span style=\"color: var(--shiki-color-text)\">] </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> [ </span><span style=\"color: var(--shiki-token-constant)\">0</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">1</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">2</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">3</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">4</span><span style=\"color: var(--shiki-color-text)\"> ];</span></li><li value=\"3\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_function\" title=\"rsh: function\"><span style=\"color: var(--shiki-token-keyword)\">function</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">add1</span><span style=\"color: var(--shiki-color-text)\">(x) { </span><a href=\"/rsh/compute/#rsh_return\" title=\"rsh: return\"><span style=\"color: var(--shiki-token-keyword)\">return</span></a><span style=\"color: var(--shiki-color-text)\"> x </span><a href=\"/rsh/compute/#rsh_+\" title=\"rsh: +\"><span style=\"color: var(--shiki-token-keyword)\">+</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">1</span><span style=\"color: var(--shiki-color-text)\">; };</span></li></ol></pre>\n<p><i id=\"p_5\" class=\"pid\"></i>are valid <span class=\"ui-tooltip\" title=\"exporting allows identifiers to be visible to other modules\"><span style=\"cursor: help\">exports</span></span>.<a href=\"#p_5\" class=\"pid\">5</a></p>\n<p>\n  <i id=\"p_6\" class=\"pid\"></i>Module-level identifiers may also be exported after the fact,\n  and may be renamed during export.\n  For example:<a href=\"#p_6\" class=\"pid\">6</a>\n</p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"const w = 2;\nconst z = 0;\nexport {w, z as zero};\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">w</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">2</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"2\"><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">z</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">0</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"3\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> {w</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> z </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> zero};</span></li></ol></pre>\n<p>\n  <i id=\"p_7\" class=\"pid\"></i>Identifiers from other modules may be re-exported (and renamed),\n  even if they are not imported in the current module.\n  For example:<a href=\"#p_7\" class=\"pid\">7</a>\n</p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export {u, x as other_x} from './other-module.rsh';\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> {u</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> x </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> other_x} </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'./other-module.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li></ol></pre>\n<p>\n  <i id=\"p_8\" class=\"pid\"></i>In this case, there is a module with a name of <code>other-module.rsh</code> which contains <code>u</code> and <code>x</code>.\n  Identifier <code>u</code> is exported as <code>u</code>, and <code>x</code> is exported and renamed to be <code>other_x</code>.\n  An exported identifier in a given module may be imported by other modules.\n  Both <code>u</code> and <code>other_x</code> can be imported from the current module instead of importing them from <code>other-module.rsh</code>.<a href=\"#p_8\" class=\"pid\">8</a>\n</p>\n<p>\n  <i id=\"p_9\" class=\"pid\"></i>Exports are also exposed to the frontend via <span class=\"snip\"><a href=\"/cout/#js_getExports\" title=\"js: getExports\"><span style=\"color: var(--shiki-color-text)\">getExports</span></a></span>.\n  For more information on <span class=\"snip\"><a href=\"/cout/#js_getExports\" title=\"js: getExports\"><span style=\"color: var(--shiki-color-text)\">getExports</span></a></span> and exposing exports to the frontend, refer to <a href=\"/cout/#ref-backends-js\">JavaScript</a>.<a href=\"#p_9\" class=\"pid\">9</a>\n</p>\n<p>\n  <i id=\"p_10\" class=\"pid\"></i>Functions are only exposed if they are typed, that is, if they are constructed with <span class=\"snip\"><a href=\"/rsh/compute/#rsh_is\" title=\"rsh: is\"><span style=\"color: var(--shiki-color-text)\">is</span></a></span>.\n  Refer to <a href=\"/rsh/compute/#ref-programs-types\">Types</a> for more information.<a href=\"#p_10\" class=\"pid\">10</a>\n</p>\n<h3 id=\"ref-programs-import\" class=\"refHeader\"><code>import</code><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-import\"><span class=\"icon icon-link\"></span></a></h3>\n<p>\n  <i id=\"p_11\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_import\" data-scope=\"rsh\" data-symbol=\"import\"></span>Reach supports two types of module <span class=\"term\" id=\"term_imports\">imports</span>: local imports,\n  which refer to modules that exist within your project, and\n  package imports, which refer to remote libraries that may be fetched\n  from external sources such as <a href=\"https://github.com\">GitHub</a>.<a href=\"#p_11\" class=\"pid\">11</a>\n</p>\n<div class=\"note\">\n  <p><i id=\"p_12\" class=\"pid\"></i>Read <a href=\"/guide/packages/#guide-packages\">the guide section on packages</a> for more details.<a href=\"#p_12\" class=\"pid\">12</a></p>\n</div>\n<p>\n  <i id=\"p_13\" class=\"pid\"></i>Package imports are easily distinguished from local imports by a\n  mandatory <code>@</code> character at the beginning of the path string.<a href=\"#p_13\" class=\"pid\">13</a>\n</p>\n<h4 id=\"ref-programs-import-local\" class=\"refHeader\">Local imports<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-import-local\"><span class=\"icon icon-link\"></span></a></h4>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import 'games-of-chance.rsh';\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'games-of-chance.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li></ol></pre>\n<p>\n  <i id=\"p_14\" class=\"pid\"></i>When a module, <code>X</code>, contains a <span class=\"term\" id=\"term_local%20import\">local import</span>,\n  written <span class=\"snip\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">\"LIB.rsh\"</span><span style=\"color: var(--shiki-color-text)\">;</span></span>,\n  then the path <code>LIB.rsh</code> must resolve to another Reach source file.\n  The exports from the module defined by <code>LIB.rsh</code> are included in the set of bound identifiers in <code>X</code>.<a href=\"#p_14\" class=\"pid\">14</a>\n</p>\n<p><span class=\"ref\" id=\"rsh_from\" data-scope=\"rsh\" data-symbol=\"from\"></span></p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import {flipCoin, rollDice as d6} from 'games-of-chance.rsh';\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> {flipCoin</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> rollDice </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> d6} </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'games-of-chance.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li></ol></pre>\n<p><i id=\"p_15\" class=\"pid\"></i>Import statements may limit or rename the imported identifiers.<a href=\"#p_15\" class=\"pid\">15</a></p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import * as gamesOfChance from 'games-of-chance.rsh';\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_*\" title=\"rsh: *\"><span style=\"color: var(--shiki-token-constant)\">*</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> gamesOfChance </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'games-of-chance.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li></ol></pre>\n<p>\n  <i id=\"p_16\" class=\"pid\"></i>Imports may instead bind the entire module to a single identifier,\n  which is an object with fields corresponding to that module's exports.<a href=\"#p_16\" class=\"pid\">16</a>\n</p>\n<p><i id=\"p_17\" class=\"pid\"></i>Import cycles are invalid.<a href=\"#p_17\" class=\"pid\">17</a></p>\n<p><i id=\"p_18\" class=\"pid\"></i>The path given to an import may <strong>not</strong> include <code>..</code> to specify files outside the current directory <strong>nor</strong> may it be an absolute path.<a href=\"#p_18\" class=\"pid\">18</a></p>\n<p><i id=\"p_19\" class=\"pid\"></i>It <strong>must</strong> be a relative path, which is resolved relative to the parent directory of the source file in which they appear.<a href=\"#p_19\" class=\"pid\">19</a></p>\n<p><i id=\"p_20\" class=\"pid\"></i>Example:<a href=\"#p_20\" class=\"pid\">20</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/hs/t/y/imports.rsh\">/hs/t/y/imports.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import * as lib from 'lib.rsh';\nimport {x, x as xRenamed} from 'lib.rsh';\n\nexport const main = Reach.App(\n  {}, [], () => {\n    assert(lib.x == x);\n    assert(x == xRenamed);\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"3\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_*\" title=\"rsh: *\"><span style=\"color: var(--shiki-token-constant)\">*</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> lib </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'lib.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"4\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> {x</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> x </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> xRenamed} </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'lib.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"5\"></li><li value=\"6\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(</span></li><li value=\"7\"><span style=\"color: var(--shiki-color-text)\">  {}</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> []</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> () </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"8\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/compute/#rsh_assert\" title=\"rsh: assert\"><span style=\"color: var(--shiki-token-function)\">assert</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-constant)\">lib</span><span style=\"color: var(--shiki-color-text)\">.x </span><a href=\"/rsh/compute/#rsh_==\" title=\"rsh: ==\"><span style=\"color: var(--shiki-token-keyword)\">==</span></a><span style=\"color: var(--shiki-color-text)\"> x);</span></li><li value=\"9\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/compute/#rsh_assert\" title=\"rsh: assert\"><span style=\"color: var(--shiki-token-function)\">assert</span></a><span style=\"color: var(--shiki-color-text)\">(x </span><a href=\"/rsh/compute/#rsh_==\" title=\"rsh: ==\"><span style=\"color: var(--shiki-token-keyword)\">==</span></a><span style=\"color: var(--shiki-color-text)\"> xRenamed);</span></li></ol></pre>\n<p><i id=\"p_21\" class=\"pid\"></i>This code imports all the contents of <code>lib.rsh</code> and renames it to <code>lib</code> on line 3 while line 4 imports only a few of <code>lib.rsh</code>'s contents.<a href=\"#p_21\" class=\"pid\">21</a></p>\n<h4 id=\"ref-programs-import-package\" class=\"refHeader\">Package imports<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-import-package\"><span class=\"icon icon-link\"></span></a></h4>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import * as func from\n  '@reach-sh/reach-example-package';\nimport * as func from\n  '@reach-sh/reach-example-package:src/func.rsh';\nimport * as func from\n  '@github.com:reach-sh/reach-example-package#main:src/func.rsh';\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_*\" title=\"rsh: *\"><span style=\"color: var(--shiki-token-constant)\">*</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> func </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a></li><li value=\"2\"><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string-expression)\">'@reach-sh/reach-example-package'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"3\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_*\" title=\"rsh: *\"><span style=\"color: var(--shiki-token-constant)\">*</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> func </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string-expression)\">'@reach-sh/reach-example-package:src/func.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"5\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_*\" title=\"rsh: *\"><span style=\"color: var(--shiki-token-constant)\">*</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> func </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string-expression)\">'@github.com:reach-sh/reach-example-package#main:src/func.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li></ol></pre>\n<p>\n  <i id=\"p_22\" class=\"pid\"></i><span class=\"term\" id=\"term_Package%20imports\">Package imports</span> obey the same rules as local imports but\n  support an extended path syntax which allows Reach programmers to seamlessly\n  plug into third-party libraries hosted on the internet.<a href=\"#p_22\" class=\"pid\">22</a>\n</p>\n<p><i id=\"p_23\" class=\"pid\"></i>All package imports begin with the <code>@</code> character.<a href=\"#p_23\" class=\"pid\">23</a></p>\n<p><i id=\"p_24\" class=\"pid\"></i>Package import paths are comprised of the following components:<a href=\"#p_24\" class=\"pid\">24</a></p>\n<ul>\n  <li><strong>(Optional): The <code>git</code> server where the package is hosted.</strong></li>\n</ul>\n<p><i id=\"p_25\" class=\"pid\"></i>This component must be followed by a <code>:</code> character.<a href=\"#p_25\" class=\"pid\">25</a></p>\n<p><i id=\"p_26\" class=\"pid\"></i>This component defaults to <a href=\"https://github.com\">GitHub</a> (i.e. <code>github.com</code>) if no site is specified.<a href=\"#p_26\" class=\"pid\">26</a></p>\n<p><i id=\"p_27\" class=\"pid\"></i>Examples: <code>github.com:</code>, <code>bitbucket.org:</code>.<a href=\"#p_27\" class=\"pid\">27</a></p>\n<ul>\n  <li><strong>The account registered with the host site.</strong></li>\n</ul>\n<p><i id=\"p_28\" class=\"pid\"></i>This component must be followed by a <code>/</code> character.<a href=\"#p_28\" class=\"pid\">28</a></p>\n<p><i id=\"p_29\" class=\"pid\"></i>Examples: <code>reach-sh/</code>, <code>jeapostrophe/</code>.<a href=\"#p_29\" class=\"pid\">29</a></p>\n<ul>\n  <li><strong>A repository associated with the account.</strong></li>\n</ul>\n<p><i id=\"p_30\" class=\"pid\"></i>Examples: <code>reach-example-package</code>, <code>nfts</code>.<a href=\"#p_30\" class=\"pid\">30</a></p>\n<ul>\n  <li><strong>(Optional): A <code>git ref</code> or <code>git commit</code> used to represent the\npackage version.</strong></li>\n</ul>\n<p>\n  <i id=\"p_31\" class=\"pid\"></i>If no <code>ref</code> is specified, Reach first tries to find the requested module\n  on the repository's <code>master</code> branch, and if that fails then on the <code>main</code>\n  branch once more.<a href=\"#p_31\" class=\"pid\">31</a>\n</p>\n<div class=\"note\">\n  <p>\n    <i id=\"p_32\" class=\"pid\"></i><code>git refs</code> are discussed in further detail\n    <a href=\"https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefrefaref\">here</a>.<a href=\"#p_32\" class=\"pid\">32</a>\n  </p>\n</div>\n<p><strong>It is highly advisable that package authors use <code>git tags</code> to denote\nversion \"releases\", e.g. <code>v0.2.1</code>, and that consuming code target the\ndesired <code>git tag</code> rather than a branch name.</strong></p>\n<div class=\"note\">\n  <p>\n    <i id=\"p_33\" class=\"pid\"></i>Read\n    <a href=\"https://git-scm.com/book/en/v2/Git-Basics-Tagging\">this guide</a>\n    to learn more about how <code>git tags</code> work.<a href=\"#p_33\" class=\"pid\">33</a>\n  </p>\n</div>\n<p><i id=\"p_34\" class=\"pid\"></i>This component must be preceded by a <code>#</code> character.<a href=\"#p_34\" class=\"pid\">34</a></p>\n<p><i id=\"p_35\" class=\"pid\"></i>Example: <code>#v3.0.6</code>.<a href=\"#p_35\" class=\"pid\">35</a></p>\n<ul>\n  <li><strong>(Optional): The directory in which the module may be found.</strong></li>\n</ul>\n<p>\n  <i id=\"p_36\" class=\"pid\"></i>This component must be preceded by a <code>:</code> character and must end with\n  a <code>/</code>.<a href=\"#p_36\" class=\"pid\">36</a>\n</p>\n<p><i id=\"p_37\" class=\"pid\"></i>Example: <code>:src/lib/</code>.<a href=\"#p_37\" class=\"pid\">37</a></p>\n<ul>\n  <li><strong>(Optional): The filename of the requested module.</strong></li>\n</ul>\n<p><i id=\"p_38\" class=\"pid\"></i>Defaults to <code>index.rsh</code>.<a href=\"#p_38\" class=\"pid\">38</a></p>\n<p>\n  <i id=\"p_39\" class=\"pid\"></i>If the module exists within a subdirectory it must be preceded by a <code>/</code>\n  character.<a href=\"#p_39\" class=\"pid\">39</a>\n</p>\n<p><i id=\"p_40\" class=\"pid\"></i>Example: <code>@reach-sh/example#v1.01:parent/child/pkg.rsh</code>.<a href=\"#p_40\" class=\"pid\">40</a></p>\n<p>\n  <i id=\"p_41\" class=\"pid\"></i>However, if the module is stored in the root of the repository, it must instead\n  be preceded by a <code>:</code> character.<a href=\"#p_41\" class=\"pid\">41</a>\n</p>\n<p><i id=\"p_42\" class=\"pid\"></i>Example: <code>@reach-sh/example#v1.02:pkg.rsh</code>.<a href=\"#p_42\" class=\"pid\">42</a></p>\n<p>\n  <i id=\"p_43\" class=\"pid\"></i>The following forms are all syntactically valid package import\n  expressions:<a href=\"#p_43\" class=\"pid\">43</a>\n</p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"@account/repo\n@account/repo:\n@account/repo:a/b/file.rsh\n@account/repo:a/b/\n@account/repo:file.rsh\n@account/repo#\n@account/repo#:\n@account/repo#:a/b/file.rsh\n@account/repo#:a/b/\n@account/repo#:file.rsh\n@account/repo#ref\n@account/repo#ref:\n@account/repo#ref:a/b/file.rsh\n@account/repo#ref:a/b/\n@account/repo#ref:file.rsh\n@server:account/repo\n@server:account/repo:\n@server:account/repo:a/b/file.rsh\n@server:account/repo:a/b/\n@server:account/repo:file.rsh\n@server:account/repo#\n@server:account/repo#:\n@server:account/repo#:a/b/file.rsh\n@server:account/repo#:a/b/\n@server:account/repo#:file.rsh\n@server:account/repo#ref\n@server:account/repo#ref:\n@server:account/repo#ref:a/b/file.rsh\n@server:account/repo#ref:a/b/\n@server:account/repo#ref:file.rsh\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\">@account/repo</li><li value=\"2\">@account/repo:</li><li value=\"3\">@account/repo:a/b/file.rsh</li><li value=\"4\">@account/repo:a/b/</li><li value=\"5\">@account/repo:file.rsh</li><li value=\"6\">@account/repo#</li><li value=\"7\">@account/repo#:</li><li value=\"8\">@account/repo#:a/b/file.rsh</li><li value=\"9\">@account/repo#:a/b/</li><li value=\"10\">@account/repo#:file.rsh</li><li value=\"11\">@account/repo#ref</li><li value=\"12\">@account/repo#ref:</li><li value=\"13\">@account/repo#ref:a/b/file.rsh</li><li value=\"14\">@account/repo#ref:a/b/</li><li value=\"15\">@account/repo#ref:file.rsh</li><li value=\"16\">@server:account/repo</li><li value=\"17\">@server:account/repo:</li><li value=\"18\">@server:account/repo:a/b/file.rsh</li><li value=\"19\">@server:account/repo:a/b/</li><li value=\"20\">@server:account/repo:file.rsh</li><li value=\"21\">@server:account/repo#</li><li value=\"22\">@server:account/repo#:</li><li value=\"23\">@server:account/repo#:a/b/file.rsh</li><li value=\"24\">@server:account/repo#:a/b/</li><li value=\"25\">@server:account/repo#:file.rsh</li><li value=\"26\">@server:account/repo#ref</li><li value=\"27\">@server:account/repo#ref:</li><li value=\"28\">@server:account/repo#ref:a/b/file.rsh</li><li value=\"29\">@server:account/repo#ref:a/b/</li><li value=\"30\">@server:account/repo#ref:file.rsh</li></ol></pre>\n<hr>\n<p><i id=\"p_44\" class=\"pid\"></i>Example:<a href=\"#p_44\" class=\"pid\">44</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/pkg/index.rsh\">/examples/pkg/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"import { bestNumber as bn } from '@reach-sh/reach-example-package:index.rsh';\n\nimport './local.rsh';\n\nexport const main = Reach.App(() => {\n  assert(bn == 1742);\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"6\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> { bestNumber </span><span style=\"color: var(--shiki-token-keyword)\">as</span><span style=\"color: var(--shiki-color-text)\"> bn } </span><a href=\"/rsh/module/#rsh_from\" title=\"rsh: from\"><span style=\"color: var(--shiki-token-keyword)\">from</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'@reach-sh/reach-example-package:index.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"7\"></li><li value=\"8\"><a href=\"/rsh/module/#rsh_import\" title=\"rsh: import\"><span style=\"color: var(--shiki-token-keyword)\">import</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">'./local.rsh'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"9\"></li><li value=\"10\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_assert\" title=\"rsh: assert\"><span style=\"color: var(--shiki-token-function)\">assert</span></a><span style=\"color: var(--shiki-color-text)\">(bn </span><a href=\"/rsh/compute/#rsh_==\" title=\"rsh: ==\"><span style=\"color: var(--shiki-token-keyword)\">==</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">1742</span><span style=\"color: var(--shiki-color-text)\">);</span></li></ol></pre>\n<p>\n  <i id=\"p_45\" class=\"pid\"></i>This code imports <code>bestNumber</code> from <code>@reach-sh/reach-example-package:index.rsh</code> package and renames it to <code>bn</code> on line 6.\n  Line 11 <span class=\"snip\"><a href=\"/rsh/compute/#rsh_assert\" title=\"rsh: assert\"><span style=\"color: var(--shiki-color-text)\">assert</span></a></span>s that <code>bn</code> is equivalent to <code>1742</code>.<a href=\"#p_45\" class=\"pid\">45</a>\n</p>\n<p>\n  <i id=\"p_46\" class=\"pid\"></i>Since <code>git</code> repositories evolve and change over time, Reach takes extra\n  steps in order to pin a given module import's version to the specific <code>SHA</code> hash of the specified revision at the time the package is first installed.\n  These pins are stored in a lockfile, which should be included in your source control system.<a href=\"#p_46\" class=\"pid\">46</a>\n</p>\n<h2 id=\"ref-programs-module-exprs\" class=\"refHeader\">Expressions<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-module-exprs\"><span class=\"icon icon-link\"></span></a></h2>\n<p>\n  <i id=\"p_47\" class=\"pid\"></i>Any expressions valid for a <a href=\"/rsh/compute/#ref-programs-compute-exprs\">computation</a> are valid for a module.\n  However, some additional expressions are allowed.<a href=\"#p_47\" class=\"pid\">47</a>\n</p>\n<h3 id=\"ref-programs-reachapp\" class=\"refHeader\"><code>Reach.App</code><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-reachapp\"><span class=\"icon icon-link\"></span></a></h3>\n<p><span class=\"ref\" id=\"rsh_Reach\" data-scope=\"rsh\" data-symbol=\"Reach\"></span><span class=\"ref\" id=\"rsh_App\" data-scope=\"rsh\" data-symbol=\"App\"></span><span class=\"ref\" id=\"rsh_Reach.App\" data-scope=\"rsh\" data-symbol=\"Reach.App\"></span></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main = Reach.App(() => {\n const A = Participant(&quot;A&quot;, {\n  displayResult: Fun(Int, Null),\n });\n init();\n\n const result = 0;\n A.only(() => { interact.displayResult(result); });\n\n exit();\n});\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"2\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">A</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">\"A\"</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"3\"><span style=\"color: var(--shiki-color-text)\">  displayResult</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">(Int</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\"> });</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li><li value=\"6\"></li><li value=\"7\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">result</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">0</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"8\"><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">A</span><a href=\"/rsh/step/#rsh_only\" title=\"rsh: only\"><span style=\"color: var(--shiki-token-function)\">.only</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> { </span><a href=\"/rsh/local/#rsh_interact\" title=\"rsh: interact\"><span style=\"color: var(--shiki-token-constant)\">interact</span></a><span style=\"color: var(--shiki-token-function)\">.displayResult</span><span style=\"color: var(--shiki-color-text)\">(result); });</span></li><li value=\"9\"></li><li value=\"10\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/step/#rsh_exit\" title=\"rsh: exit\"><span style=\"color: var(--shiki-token-function)\">exit</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">});</span></li></ol></pre>\n<p>\n  <i id=\"p_48\" class=\"pid\"></i><span class=\"term\" id=\"term_Reach.App\">Reach.App</span> accepts a no-argument function that specifies a DApp.\n  This function is applied during compilation as an application initialization.\n  It specifies the entire DApp in its body.<a href=\"#p_48\" class=\"pid\">48</a>\n</p>\n<p><i id=\"p_49\" class=\"pid\"></i>If the result of <span class=\"snip\"><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-color-text)\">.App</span></a></span> is eventually bound to an identifier that is exported, then that identifier may be a target given to the compiler, as discussed in <a href=\"/tool/#ref-usage-compile\">the section on usage</a>.<a href=\"#p_49\" class=\"pid\">49</a></p>\n<h4 id=\"deprecated-long-form\" class=\"refHeader\">Deprecated long-form<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#deprecated-long-form\"><span class=\"icon icon-link\"></span></a></h4>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main =\n  Reach.App({}, [Participant(&quot;A&quot;, {displayResult: Fun(Int, Null)})], (A) => {\n    const result = 0;\n    A.only(() => { interact.displayResult(result); })\n    exit();\n  });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span></li><li value=\"2\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">({}</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> [</span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">\"A\"</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {displayResult</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">(Int</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)})]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> (A) </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"3\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">result</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">0</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\">    </span><span style=\"color: var(--shiki-token-constant)\">A</span><a href=\"/rsh/step/#rsh_only\" title=\"rsh: only\"><span style=\"color: var(--shiki-token-function)\">.only</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> { </span><a href=\"/rsh/local/#rsh_interact\" title=\"rsh: interact\"><span style=\"color: var(--shiki-token-constant)\">interact</span></a><span style=\"color: var(--shiki-token-function)\">.displayResult</span><span style=\"color: var(--shiki-color-text)\">(result); })</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/step/#rsh_exit\" title=\"rsh: exit\"><span style=\"color: var(--shiki-token-function)\">exit</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">  });</span></li></ol></pre>\n<p>\n  <i id=\"p_50\" class=\"pid\"></i>Previous versions of Reach only allowed a form of Reach.App which accepted three arguments:\n  an <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">options</span></span> object,\n  an <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">applicationArgs</span></span> tuple,\n  and a <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">program</span></span> arrow of the form <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">(applicationIds) </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> body</span></span>.<a href=\"#p_50\" class=\"pid\">50</a>\n</p>\n<p><i id=\"p_51\" class=\"pid\"></i>This form was equivalent to<a href=\"#p_51\" class=\"pid\">51</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"Reach.App(() => {\n setOptions(options);\n [ applicationIds ] = applicationArgs;\n init();\n body\n});\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"2\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">(options);</span></li><li value=\"3\"><span style=\"color: var(--shiki-color-text)\"> [ applicationIds ] </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> applicationArgs;</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\"> body</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">});</span></li></ol></pre>\n<p><i id=\"p_52\" class=\"pid\"></i>The current version of Reach will automatically transform these \"ternary\" <span class=\"snip\"><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-color-text)\">.App</span></a></span> instances into the above form.<a href=\"#p_52\" class=\"pid\">52</a></p>\n<p><i id=\"p_53\" class=\"pid\"></i>Future versions of Reach will deprecate this transform and such programs will be invalid.<a href=\"#p_53\" class=\"pid\">53</a></p>","<ul><li class=\"dynamic\">\n    <a href=\"#ref-programs-module\">Modules</a>\n    <ul class=\"dynamic\">\n      <li class=\"dynamic\">\n        <a href=\"#ref-programs-module-stmts\">Statements</a>\n        <ul class=\"dynamic\">\n          <li class=\"dynamic\">\n            <a href=\"#ref-programs-export\"><code>export</code></a>\n          </li>\n          <li class=\"dynamic\">\n            <a href=\"#ref-programs-import\"><code>import</code></a>\n            <ul class=\"dynamic\">\n              <li class=\"dynamic\"><a href=\"#ref-programs-import-local\">Local imports</a></li>\n              <li class=\"dynamic\"><a href=\"#ref-programs-import-package\">Package imports</a></li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n      <li class=\"dynamic\">\n        <a href=\"#ref-programs-module-exprs\">Expressions</a>\n        <ul class=\"dynamic\">\n          <li class=\"dynamic\">\n            <a href=\"#ref-programs-reach.app\"><code>Reach.App</code></a>\n            <ul class=\"dynamic\">\n              <li class=\"dynamic\"><a href=\"#deprecated-long-form\">Deprecated long-form</a></li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </li></ul>"]