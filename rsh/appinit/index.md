[{"bookPath":"","title":"Application Initialization","titleId":"ref-programs-appinit","hasOtp":true,"hasPageHeader":true},"<p>\n  <i id=\"p_0\" class=\"pid\"></i>The body of <span class=\"snip\"><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><span style=\"color: var(--shiki-color-text)\">.app</span></span> is an <span class=\"term\" id=\"term_application%20initialization\">application initialization</span>.\n  It defines the various participants and views of the DApp, as well as sets compilation options.\n  It is finalized with <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">()</span></span> and then the application begins in a step.<a href=\"#p_0\" class=\"pid\">0</a>\n</p>\n<h2 id=\"ref-programs-appinit-stmts\" class=\"refHeader\">Statements<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-stmts\"><span class=\"icon icon-link\"></span></a></h2>\n<p>\n  <i id=\"p_1\" class=\"pid\"></i>Any statements valid for a <a href=\"/rsh/compute/#ref-programs-compute-stmts\">computation</a> are valid for application initialization.\n  However, some additional statements are allowed.<a href=\"#p_1\" class=\"pid\">1</a>\n</p>\n<h3 id=\"init\" class=\"refHeader\"><code>init</code><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#init\"><span class=\"icon icon-link\"></span></a></h3>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"init();\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li></ol></pre>\n<p><i id=\"p_2\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_init\" data-scope=\"rsh\" data-symbol=\"init\"></span>A <span class=\"term\" id=\"term_init%20statement\">init statement</span>, written <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></span>, finalizes all of the available participants, views, and compilation options.<a href=\"#p_2\" class=\"pid\">2</a></p>\n<p>\n  <i id=\"p_3\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_deploy\" data-scope=\"rsh\" data-symbol=\"deploy\"></span>In earlier versions of Reach, this was called <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_deploy\" title=\"rsh: deploy\"><span style=\"color: var(--shiki-token-function)\">deploy</span></a><span style=\"color: var(--shiki-color-text)\">()</span></span>, but it was\n  changed because that name was misleading.<a href=\"#p_3\" class=\"pid\">3</a>\n</p>\n<p>\n  <i id=\"p_4\" class=\"pid\"></i>Its continuation is a step, which means its content is specified by <a href=\"/rsh/step/#ref-programs-step\">Steps</a>.\n  It represents the body of the DApp to be compiled.<a href=\"#p_4\" class=\"pid\">4</a>\n</p>\n<p>\n  <i id=\"p_5\" class=\"pid\"></i>In the example below, see how <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></span> is used to finalize the available <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-color-text)\">Participant</span></a></span> and <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-constant)\">API</span></a></span>.\n  After which a local step is introduced:<a href=\"#p_5\" class=\"pid\">5</a>\n</p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/api-twice/index.rsh\">/examples/api-twice/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main = Reach.App(() => {\n  const A = Participant('Admin', {\n    deployed: Fun(true, Null),\n    n: UInt,\n  });\n  const U = API('Writer', {\n    f: Fun([], UInt),\n  });\n  init();\n  A.only(() => {\n    const n = declassify(interact.n);\n  });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"4\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">A</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Admin'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">    deployed</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">(</span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"7\"><span style=\"color: var(--shiki-color-text)\">    n</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> UInt</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"8\"><span style=\"color: var(--shiki-color-text)\">  });</span></li><li value=\"9\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">U</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Writer'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"10\"><span style=\"color: var(--shiki-color-text)\">    f</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">  });</span></li><li value=\"12\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li><li value=\"13\"><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-constant)\">A</span><a href=\"/rsh/step/#rsh_only\" title=\"rsh: only\"><span style=\"color: var(--shiki-token-function)\">.only</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"14\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">n</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/local/#rsh_declassify\" title=\"rsh: declassify\"><span style=\"color: var(--shiki-token-function)\">declassify</span></a><span style=\"color: var(--shiki-color-text)\">(</span><a href=\"/rsh/local/#rsh_interact\" title=\"rsh: interact\"><span style=\"color: var(--shiki-token-constant)\">interact</span></a><span style=\"color: var(--shiki-color-text)\">.n);</span></li><li value=\"15\"><span style=\"color: var(--shiki-color-text)\">  });</span></li></ol></pre>\n<h3 id=\"setoptions\" class=\"refHeader\"><code>setOptions</code><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#setoptions\"><span class=\"icon icon-link\"></span></a></h3>\n<p><span class=\"ref\" id=\"rsh_setOptions\" data-scope=\"rsh\" data-symbol=\"setOptions\"></span></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"setOptions({ verifyArithmetic: true });\nsetOptions({});\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">({ verifyArithmetic</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-color-text)\"> });</span></li><li value=\"2\"><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">({});</span></li></ol></pre>\n<p><i id=\"p_6\" class=\"pid\"></i>The <span class=\"term\" id=\"term_compilation%20options\">compilation options</span> for the DApp may be set by calling <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-constant)\">OBJ_EXPR</span><span style=\"color: var(--shiki-color-text)\">);</span></span> where <span class=\"snip\"><span style=\"color: var(--shiki-token-constant)\">OBJ_EXPR</span></span> is an object with the following keys and values:<a href=\"#p_6\" class=\"pid\">6</a></p>\n<ul>\n  <li>\n    <p><i id=\"p_7\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_untrustworthyMaps\" data-scope=\"rsh\" data-symbol=\"untrustworthyMaps\"></span><span class=\"snip\"><a href=\"/rsh/appinit/#rsh_untrustworthyMaps\" title=\"rsh: untrustworthyMaps\"><span style=\"color: var(--shiki-color-text)\">untrustworthyMaps</span></a></span><a href=\"#p_7\" class=\"pid\">7</a></p>\n    <p><i id=\"p_8\" class=\"pid\"></i><span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span> or <span class=\"snip\"><a href=\"/rsh/compute/#rsh_false\" title=\"rsh: false\"><span style=\"color: var(--shiki-token-constant)\">false</span></a></span> (default)<a href=\"#p_8\" class=\"pid\">8</a></p>\n    <p>\n      <i id=\"p_9\" class=\"pid\"></i>Determines whether mappings are treated as trustworthy.\n      A mapping is trustworthy if its values are guaranteed to be preserved across interactions.\n      When this is <span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span>, the verifier will enforce that your program does not rely on values being preserved.<a href=\"#p_9\" class=\"pid\">9</a>\n    </p>\n    <p><i id=\"p_10\" class=\"pid\"></i>See example below:<a href=\"#p_10\" class=\"pid\">10</a></p>\n    <pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/map-simpl/index.rsh\">/examples/map-simpl/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main = Reach.App(() => {\n  setOptions({ untrustworthyMaps: true });\n  const common = {\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"4\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">({ untrustworthyMaps</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-color-text)\"> });</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">common</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> {</span></li></ol></pre>\n    <p>\n      <i id=\"p_11\" class=\"pid\"></i>Reach cannot provide trustworthy mappings with some connectors; therefore it is dangerous to not set this to <span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span> on such connectors.\n      Reach will emit a warning during compilation if you do such a dangerous thing.<a href=\"#p_11\" class=\"pid\">11</a>\n    </p>\n  </li>\n  <li>\n    <p><i id=\"p_12\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_verifyArithmetic\" data-scope=\"rsh\" data-symbol=\"verifyArithmetic\"></span><span class=\"snip\"><a href=\"/rsh/appinit/#rsh_verifyArithmetic\" title=\"rsh: verifyArithmetic\"><span style=\"color: var(--shiki-color-text)\">verifyArithmetic</span></a></span><a href=\"#p_12\" class=\"pid\">12</a></p>\n    <p><i id=\"p_13\" class=\"pid\"></i><span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span> or <span class=\"snip\"><a href=\"/rsh/compute/#rsh_false\" title=\"rsh: false\"><span style=\"color: var(--shiki-token-constant)\">false</span></a></span> (default)<a href=\"#p_13\" class=\"pid\">13</a></p>\n    <p><i id=\"p_14\" class=\"pid\"></i>Determines whether arithmetic operations automatically introduce static assertions that they do not overflow beyond <span class=\"snip\"><a href=\"/rsh/compute/#rsh_UInt\" title=\"rsh: UInt\"><span style=\"color: var(--shiki-token-constant)\">UInt</span></a><a href=\"/rsh/compute/#rsh_UInt.max\" title=\"rsh: UInt.max\"><span style=\"color: var(--shiki-color-text)\">.max</span></a></span>.<a href=\"#p_14\" class=\"pid\">14</a></p>\n    <p><i id=\"p_15\" class=\"pid\"></i>See example below:<a href=\"#p_15\" class=\"pid\">15</a></p>\n    <pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/uint256/index.rsh\">/examples/uint256/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const veriC = Reach.App(() => {\n  setOptions({ verifyArithmetic: true });\n  const A = Participant('A', { x: UInt256 });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"3\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">veriC</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">({ verifyArithmetic</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-color-text)\"> });</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">A</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'A'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { x</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> UInt256 });</span></li></ol></pre>\n    <p>\n      <i id=\"p_16\" class=\"pid\"></i>This defaults to <span class=\"snip\"><a href=\"/rsh/compute/#rsh_false\" title=\"rsh: false\"><span style=\"color: var(--shiki-token-constant)\">false</span></a></span>, because it is onerous to verify.\n      We recommend turning it on before final deployment, but leaving it off during development.\n      When it is <span class=\"snip\"><a href=\"/rsh/compute/#rsh_false\" title=\"rsh: false\"><span style=\"color: var(--shiki-token-constant)\">false</span></a></span>, connectors will ensure that overflows do not actually occur on the network.<a href=\"#p_16\" class=\"pid\">16</a>\n    </p>\n  </li>\n  <li>\n    <p><i id=\"p_17\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_verifyPerConnector\" data-scope=\"rsh\" data-symbol=\"verifyPerConnector\"></span><span class=\"snip\"><a href=\"/rsh/appinit/#rsh_verifyPerConnector\" title=\"rsh: verifyPerConnector\"><span style=\"color: var(--shiki-color-text)\">verifyPerConnector</span></a></span><a href=\"#p_17\" class=\"pid\">17</a></p>\n    <p><i id=\"p_18\" class=\"pid\"></i><span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span> or <span class=\"snip\"><a href=\"/rsh/compute/#rsh_false\" title=\"rsh: false\"><span style=\"color: var(--shiki-token-constant)\">false</span></a></span> (default)<a href=\"#p_18\" class=\"pid\">18</a></p>\n    <p>\n      <i id=\"p_19\" class=\"pid\"></i>Determines whether verification is done per connector, or once for a generic connector.\n      When this is <span class=\"snip\"><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a></span>, then connector-specific constants, like <span class=\"snip\"><a href=\"/rsh/compute/#rsh_UInt\" title=\"rsh: UInt\"><span style=\"color: var(--shiki-token-constant)\">UInt</span></a><a href=\"/rsh/compute/#rsh_UInt.max\" title=\"rsh: UInt.max\"><span style=\"color: var(--shiki-color-text)\">.max</span></a></span>, will be instantiated to literal numbers.\n      This concretization of these constants can induce performance degradation in the verifier.<a href=\"#p_19\" class=\"pid\">19</a>\n    </p>\n    <p><i id=\"p_20\" class=\"pid\"></i>See example below:<a href=\"#p_20\" class=\"pid\">20</a></p>\n    <pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/masterhs/t/y/overflow_con.rsh\">hs/t/y/overflow_con.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main = Reach.App(\n  { verifyArithmetic: true,\n    verifyPerConnector: true },\n  [Participant('A', { get: Fun([], UInt),\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"3\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\">  { verifyArithmetic</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">    verifyPerConnector</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_true\" title=\"rsh: true\"><span style=\"color: var(--shiki-token-constant)\">true</span></a><span style=\"color: var(--shiki-color-text)\"> }</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">  [</span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'A'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { get</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li></ol></pre>\n  </li>\n  <li>\n    <p><i id=\"p_21\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_connectors\" data-scope=\"rsh\" data-symbol=\"connectors\"></span><span class=\"snip\"><a href=\"/rsh/appinit/#rsh_connectors\" title=\"rsh: connectors\"><span style=\"color: var(--shiki-color-text)\">connectors</span></a></span><a href=\"#p_21\" class=\"pid\">21</a></p>\n    <p><i id=\"p_22\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_ETH\" data-scope=\"rsh\" data-symbol=\"ETH\"></span><span class=\"ref\" id=\"rsh_ALGO\" data-scope=\"rsh\" data-symbol=\"ALGO\"></span><span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">[</span><a href=\"/rsh/appinit/#rsh_ETH\" title=\"rsh: ETH\"><span style=\"color: var(--shiki-token-constant)\">ETH</span></a><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_ALGO\" title=\"rsh: ALGO\"><span style=\"color: var(--shiki-token-constant)\">ALGO</span></a><span style=\"color: var(--shiki-color-text)\">]</span></span> (default)<a href=\"#p_22\" class=\"pid\">22</a></p>\n    <p>\n      <i id=\"p_23\" class=\"pid\"></i>A tuple of the connectors that the application should be compiled for.\n      By default, all available connectors are chosen.<a href=\"#p_23\" class=\"pid\">23</a>\n    </p>\n    <p><i id=\"p_24\" class=\"pid\"></i>In the example below, only <code>ETH</code> and <code>ALGO</code> are chosen:<a href=\"#p_24\" class=\"pid\">24</a></p>\n    <pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/popularity-contest/index.rsh\">/examples/popularity-contest/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"export const main =\n  Reach.App(() => {\n\n    setOptions({ connectors: [ETH, ALGO ]});\n\n    const Pollster =\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"10\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"12\"></li><li value=\"13\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/appinit/#rsh_setOptions\" title=\"rsh: setOptions\"><span style=\"color: var(--shiki-token-function)\">setOptions</span></a><span style=\"color: var(--shiki-color-text)\">({ connectors</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> [</span><a href=\"/rsh/appinit/#rsh_ETH\" title=\"rsh: ETH\"><span style=\"color: var(--shiki-token-constant)\">ETH</span></a><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_ALGO\" title=\"rsh: ALGO\"><span style=\"color: var(--shiki-token-constant)\">ALGO</span></a><span style=\"color: var(--shiki-color-text)\"> ]});</span></li><li value=\"14\"></li><li value=\"15\"><span style=\"color: var(--shiki-color-text)\">    </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">Pollster</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span></li></ol></pre>\n  </li>\n</ul>\n<h2 id=\"ref-programs-appinit-exprs\" class=\"refHeader\">Expressions<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-exprs\"><span class=\"icon icon-link\"></span></a></h2>\n<p>\n  <i id=\"p_25\" class=\"pid\"></i>Any expressions valid for a <a href=\"/rsh/appinit/#ref-programs-appinit-exprs\">computation</a> are valid for application initialization.\n  However, some additional expressions are allowed.<a href=\"#p_25\" class=\"pid\">25</a>\n</p>\n<h3 id=\"participant-definition\" class=\"refHeader\">Participant Definition<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#participant-definition\"><span class=\"icon icon-link\"></span></a></h3>\n<p><i id=\"p_26\" class=\"pid\"></i>A participant and participant class may be declared with<a href=\"#p_26\" class=\"pid\">26</a></p>\n<p><span class=\"ref\" id=\"rsh_Participant\" data-scope=\"rsh\" data-symbol=\"Participant\"></span></p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"Participant(participantName, participantInteractInterface)\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(participantName</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> participantInteractInterface)</span></li></ol></pre>\n<p><i id=\"p_27\" class=\"pid\"></i>and<a href=\"#p_27\" class=\"pid\">27</a></p>\n<p><span class=\"ref\" id=\"rsh_ParticipantClass\" data-scope=\"rsh\" data-symbol=\"ParticipantClass\"></span></p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"ParticipantClass(participantName, participantInteractInterface)\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_ParticipantClass\" title=\"rsh: ParticipantClass\"><span style=\"color: var(--shiki-token-function)\">ParticipantClass</span></a><span style=\"color: var(--shiki-color-text)\">(participantName</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> participantInteractInterface)</span></li></ol></pre>\n<p><i id=\"p_28\" class=\"pid\"></i>respectively.<a href=\"#p_28\" class=\"pid\">28</a></p>\n<div class=\"note\">\n  <p><i id=\"p_29\" class=\"pid\"></i>Since <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ParticipantClass\" title=\"rsh: ParticipantClass\"><span style=\"color: var(--shiki-color-text)\">ParticipantClass</span></a></span> is being deprecated, it is preferable to use <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-constant)\">API</span></a></span>.<a href=\"#p_29\" class=\"pid\">29</a></p>\n</div>\n<p>\n  <i id=\"p_30\" class=\"pid\"></i><span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">participantName</span></span> is a string which indicates the name of the participant function in the generated backend code.\n  Each <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">participantName</span></span> must be unique.<a href=\"#p_30\" class=\"pid\">30</a>\n</p>\n<p><i id=\"p_31\" class=\"pid\"></i><span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">participantInteractInterface</span></span> is a <span class=\"term\" id=\"term_participant%20interact%20interface\">participant interact interface</span>, an object where each field indicates the type of a function or value which must be provided to the backend by the frontend for interacting with the participant.<a href=\"#p_31\" class=\"pid\">31</a></p>\n<p><i id=\"p_32\" class=\"pid\"></i>In the <a href=\"/tut/rps/#tut-3\">Rock, Paper, and Scissors</a> tutorial, Alice and Bob receive the <code>getHand</code> and <code>seeOutcome</code> interact interfaces from the construct <code>Player</code> in the following sample code:<a href=\"#p_32\" class=\"pid\">32</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/rps-2-rps/index.rsh\">/examples/rps-2-rps/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"'reach 0.1';\n\nconst Player = {\n  getHand: Fun([], UInt),\n  seeOutcome: Fun([UInt], Null),\n};\n\nexport const main = Reach.App(() => {\n  const Alice = Participant('Alice', {\n    ...Player,\n  });\n  const Bob   = Participant('Bob', {\n    ...Player,\n  });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><span style=\"color: var(--shiki-token-string-expression)\">'reach 0.1'</span><span style=\"color: var(--shiki-color-text)\">;</span></li><li value=\"2\"></li><li value=\"3\"><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">Player</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"4\"><span style=\"color: var(--shiki-color-text)\">  getHand</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"5\"><span style=\"color: var(--shiki-color-text)\">  seeOutcome</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([UInt]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">};</span></li><li value=\"7\"></li><li value=\"8\"><a href=\"/rsh/module/#rsh_export\" title=\"rsh: export\"><span style=\"color: var(--shiki-token-keyword)\">export</span></a><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">main</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-token-function)\">.App</span></a><span style=\"color: var(--shiki-color-text)\">(() </span><a href=\"/rsh/compute/#rsh_=%3E\" title=\"rsh: =>\"><span style=\"color: var(--shiki-token-keyword)\">=&gt;</span></a><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"9\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">Alice</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Alice'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"10\"><span style=\"color: var(--shiki-color-text)\">    </span><span style=\"color: var(--shiki-token-keyword)\">...</span><span style=\"color: var(--shiki-color-text)\">Player</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">  });</span></li><li value=\"12\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">Bob</span><span style=\"color: var(--shiki-color-text)\">   </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Participant\" title=\"rsh: Participant\"><span style=\"color: var(--shiki-token-function)\">Participant</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Bob'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"13\"><span style=\"color: var(--shiki-color-text)\">    </span><span style=\"color: var(--shiki-token-keyword)\">...</span><span style=\"color: var(--shiki-color-text)\">Player</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"14\"><span style=\"color: var(--shiki-color-text)\">  });</span></li></ol></pre>\n<h3 id=\"ref-programs-appinit-api\" class=\"refHeader\">API Definition<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-api\"><span class=\"icon icon-link\"></span></a></h3>\n<p><span class=\"ref\" id=\"rsh_API\" data-scope=\"rsh\" data-symbol=\"API\"></span></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"API('Voter', { vote: Fun([Address], UInt) })\n// or\nAPI({ vote: Fun([Address], UInt) })\n// or\nAPI('Voter', { vote: Fun([Address], UInt)}, { vote: &quot;castVote&quot; })\n// or\nAPI({ add2: Fun([UInt, UInt], UInt), add1: Fun([UInt], UInt) }, { add1: &quot;add&quot;, add2: &quot;add&quot; })\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Voter'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { vote</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([Address]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt) })</span></li><li value=\"2\"><span style=\"color: var(--shiki-token-comment)\">// or</span></li><li value=\"3\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">({ vote</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([Address]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt) })</span></li><li value=\"4\"><span style=\"color: var(--shiki-token-comment)\">// or</span></li><li value=\"5\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Voter'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { vote</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([Address]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt)}</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { vote</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">\"castVote\"</span><span style=\"color: var(--shiki-color-text)\"> })</span></li><li value=\"6\"><span style=\"color: var(--shiki-token-comment)\">// or</span></li><li value=\"7\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">({ add2</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([UInt</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> add1</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([UInt]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> UInt) }</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { add1</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">\"add\"</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> add2</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">\"add\"</span><span style=\"color: var(--shiki-color-text)\"> })</span></li></ol></pre>\n<p><i id=\"p_33\" class=\"pid\"></i>APIs are functions that can be called by other contracts, as well as off-chain.<a href=\"#p_33\" class=\"pid\">33</a></p>\n<p><i id=\"p_34\" class=\"pid\"></i>An API is defined with <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(apiName</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> apiInterface</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_?\" title=\"rsh: ?\"><span style=\"color: var(--shiki-token-keyword)\">?</span></a><span style=\"color: var(--shiki-color-text)\">apiAlias)</span></span> or <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(apiInterface</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_?\" title=\"rsh: ?\"><span style=\"color: var(--shiki-token-keyword)\">?</span></a><span style=\"color: var(--shiki-color-text)\">apiAlias)</span></span>, where <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">apiName</span></span> is a string that labels the API, <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">apiInterface</span></span> is an object where each field indicates the type of a function provided by the contract as an API, and <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">apiAlias</span></span> is an optional object that maps function names from the <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">apiInterface</span></span> to an alias.<a href=\"#p_34\" class=\"pid\">34</a></p>\n<p>\n  <i id=\"p_35\" class=\"pid\"></i>The <span class=\"term\" id=\"term_function%20alias\">function alias</span> allows overloaded methods to be created.\n  Many functions may map to the same alias as long as each function domain is unique.<a href=\"#p_35\" class=\"pid\">35</a>\n</p>\n<p><i id=\"p_36\" class=\"pid\"></i>These APIs are available in frontends via the <span class=\"snip\"><a href=\"/frontend/#js_ctc\" title=\"js: ctc\"><span style=\"color: var(--shiki-token-constant)\">ctc</span></a><a href=\"/frontend/#js_ctc.apis\" title=\"js: ctc.apis\"><span style=\"color: var(--shiki-color-text)\">.apis</span></a></span> object.<a href=\"#p_36\" class=\"pid\">36</a></p>\n<p><i id=\"p_37\" class=\"pid\"></i>These APIs are available on-chain by using the appropriate network's ABI and are named <code>apiName_f</code> or <code>f</code> is there is no <code>apiName</code>, where <code>f</code> is the name of the field or the alias (if there is one).<a href=\"#p_37\" class=\"pid\">37</a></p>\n<p>\n  <i id=\"p_38\" class=\"pid\"></i>In backends, the <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-constant)\">API</span></a></span> value is an object wherein fields are the members of <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">apiInterface</span></span> and may be used in <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">.api</span></span> components of <span class=\"snip\"><a href=\"/rsh/step/#rsh_fork\" title=\"rsh: fork\"><span style=\"color: var(--shiki-color-text)\">fork</span></a></span> and <span class=\"snip\"><a href=\"/rsh/consensus/#rsh_parallelReduce\" title=\"rsh: parallelReduce\"><span style=\"color: var(--shiki-color-text)\">parallelReduce</span></a></span> to specify the behavior of the corresponding call.\n  These are called <span class=\"term\" id=\"term_API%20member%20function\">API member function</span>s.\n  Each function must occur in the entire program and may only appear once in each consensus step.<a href=\"#p_38\" class=\"pid\">38</a>\n</p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/dominant-assurance/index.rsh\">/examples/dominant-assurance/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"  const I = API('Investor', {\n    invest: Fun([], Null),\n    collectFailPay: Fun([], Null),\n  });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"24\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">I</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_API\" title=\"rsh: API\"><span style=\"color: var(--shiki-token-function)\">API</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Investor'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"25\"><span style=\"color: var(--shiki-color-text)\">    invest</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"26\"><span style=\"color: var(--shiki-color-text)\">    collectFailPay</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Fun\" title=\"rsh: Fun\"><span style=\"color: var(--shiki-token-function)\">Fun</span></a><span style=\"color: var(--shiki-color-text)\">([]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> Null)</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"27\"><span style=\"color: var(--shiki-color-text)\">  });</span></li></ol></pre>\n<p>\n  <i id=\"p_39\" class=\"pid\"></i>This example creates an API that has a name of <code>Investor</code>, and it has two functions.\n  The first function is to invest in the contract, and the second function is to collect the payment if the <code>Entrepreneur</code> fails to form a quorum.<a href=\"#p_39\" class=\"pid\">39</a>\n</p>\n<h3 id=\"ref-programs-appinit-view\" class=\"refHeader\">View Definition<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-view\"><span class=\"icon icon-link\"></span></a></h3>\n<div class=\"note\">\n  <p><i id=\"p_40\" class=\"pid\"></i>This section is about defining views during application initialization. Views are <a href=\"/rsh/consensus/#ref-programs-consensus-view\">set in consensus steps</a>, in your Reach program. But, they are <a href=\"/frontend/#ref-frontends-js-ctc\">accessed by frontends</a> by using the Reach standard library of the frontend language, such as JavaScript.<a href=\"#p_40\" class=\"pid\">40</a></p>\n</div>\n<p><span class=\"ref\" id=\"rsh_View\" data-scope=\"rsh\" data-symbol=\"View\"></span></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"View('NFT', { owner: Address })\n// or\nView({ owner: Address })\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'NFT'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { owner</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> Address })</span></li><li value=\"2\"><span style=\"color: var(--shiki-token-comment)\">// or</span></li><li value=\"3\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">({ owner</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> Address })</span></li></ol></pre>\n<p><i id=\"p_41\" class=\"pid\"></i>Views are read-only functions that can be called by other contracts, as well as off-chain.<a href=\"#p_41\" class=\"pid\">41</a></p>\n<p><i id=\"p_42\" class=\"pid\"></i>A view is defined with <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">(viewName</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> viewInterface)</span></span> or <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">(viewInterface)</span></span>, where <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">viewName</span></span> is a string that labels the view and <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">viewInterface</span></span> is an object where each field indicates the type of a function or value provided by the contract associated with the specified DApp.<a href=\"#p_42\" class=\"pid\">42</a></p>\n<p><i id=\"p_43\" class=\"pid\"></i>These views are available in frontends via the <span class=\"snip\"><a href=\"/frontend/#js_ctc\" title=\"js: ctc\"><span style=\"color: var(--shiki-token-constant)\">ctc</span></a><a href=\"/frontend/#js_ctc.views\" title=\"js: ctc.views\"><span style=\"color: var(--shiki-color-text)\">.views</span></a></span> object.<a href=\"#p_43\" class=\"pid\">43</a></p>\n<p><i id=\"p_44\" class=\"pid\"></i>These views are available on-chain by using the appropriate network's ABI and are named <code>viewName_f</code> or <code>f</code> is there is no <code>viewName</code>, where <code>v</code> is the name of the field.<a href=\"#p_44\" class=\"pid\">44</a></p>\n<p><i id=\"p_45\" class=\"pid\"></i>In backends, the <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-color-text)\">View</span></a></span> object as a view object.<a href=\"#p_45\" class=\"pid\">45</a></p>\n<p><i id=\"p_46\" class=\"pid\"></i>For example, <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-color-text)\">View</span></a></span> is used in the code below without a <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">viewName</span></span>:<a href=\"#p_46\" class=\"pid\">46</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/remote-rsh/index.rsh\">/examples/remote-rsh/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"  const V = View({\n    x: UInt,\n    tok: Token,\n  });\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"16\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">V</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">({</span></li><li value=\"17\"><span style=\"color: var(--shiki-color-text)\">    x</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> UInt</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"18\"><span style=\"color: var(--shiki-color-text)\">    tok</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> Token</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"19\"><span style=\"color: var(--shiki-color-text)\">  });</span></li></ol></pre>\n<p><i id=\"p_47\" class=\"pid\"></i>While the <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-color-text)\">View</span></a></span> in the following code contains a <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">viewName</span></span>:<a href=\"#p_47\" class=\"pid\">47</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/view-steps/index.rsh\">/examples/view-steps/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"  const vMain = View('Main', { last: Address, i: UInt });\n  init();\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">vMain</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_View\" title=\"rsh: View\"><span style=\"color: var(--shiki-token-function)\">View</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Main'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { last</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> Address</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> i</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> UInt });</span></li><li value=\"12\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li></ol></pre>\n<h3 id=\"ref-programs-appinit-events\" class=\"refHeader\">Events Definition<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-events\"><span class=\"icon icon-link\"></span></a></h3>\n<p><span class=\"ref\" id=\"rsh_Events\" data-scope=\"rsh\" data-symbol=\"Events\"></span></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"Events('Logger', {\n  log: [UInt, Byte(64)]\n})\n// or\nEvents({\n  log: [UInt, Byte(64)]\n})\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'Logger'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> {</span></li><li value=\"2\"><span style=\"color: var(--shiki-color-text)\">  log</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> [UInt</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">Byte</span><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-constant)\">64</span><span style=\"color: var(--shiki-color-text)\">)]</span></li><li value=\"3\"><span style=\"color: var(--shiki-color-text)\">})</span></li><li value=\"4\"><span style=\"color: var(--shiki-token-comment)\">// or</span></li><li value=\"5\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">({</span></li><li value=\"6\"><span style=\"color: var(--shiki-color-text)\">  log</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> [UInt</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">Byte</span><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-constant)\">64</span><span style=\"color: var(--shiki-color-text)\">)]</span></li><li value=\"7\"><span style=\"color: var(--shiki-color-text)\">})</span></li></ol></pre>\n<p><i id=\"p_48\" class=\"pid\"></i>An event is defined with <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">(eventName</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> eventInterface)</span></span> or <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">(eventInterface)</span></span>, where <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">eventName</span></span> is a string that labels the event and <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">eventInterface</span></span> is an object where each field is a <span class=\"snip\"><a href=\"/rsh/compute/#rsh_Tuple\" title=\"rsh: Tuple\"><span style=\"color: var(--shiki-color-text)\">Tuple</span></a></span> of <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">Type</span></span>s, representing the type of values that an event will emit.<a href=\"#p_48\" class=\"pid\">48</a></p>\n<p><i id=\"p_49\" class=\"pid\"></i>For example, the <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-color-text)\">Events</span></a></span> in the code below has no <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">eventName</span></span>:<a href=\"#p_49\" class=\"pid\">49</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/event-monitor/index.rsh\">/examples/event-monitor/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"  const Logger = Events({\n    log: [E],\n  });\n  init();\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"10\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">Logger</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">({</span></li><li value=\"11\"><span style=\"color: var(--shiki-color-text)\">    log</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> [</span><span style=\"color: var(--shiki-token-constant)\">E</span><span style=\"color: var(--shiki-color-text)\">]</span><span style=\"color: var(--shiki-token-punctuation)\">,</span></li><li value=\"12\"><span style=\"color: var(--shiki-color-text)\">  });</span></li><li value=\"13\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li></ol></pre>\n<p><i id=\"p_50\" class=\"pid\"></i>While the <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-color-text)\">Events</span></a></span> in following example has an <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">eventName</span></span>:<a href=\"#p_50\" class=\"pid\">50</a></p>\n<pre class=\"snippet numbered\"><div class=\"codeHeader\"><a href=\"https://github.com/reach-sh/reach-lang/tree/master/examples/dominant-assurance/index.rsh\">/examples/dominant-assurance/index.rsh</a><a class=\"far fa-copy copyBtn\" data-clipboard-text=\"  const CP = Events('ContractPhase', { phase: [Phase] });\n  init();\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"34\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">CP</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/appinit/#rsh_Events\" title=\"rsh: Events\"><span style=\"color: var(--shiki-token-function)\">Events</span></a><span style=\"color: var(--shiki-color-text)\">(</span><span style=\"color: var(--shiki-token-string-expression)\">'ContractPhase'</span><span style=\"color: var(--shiki-token-punctuation)\">,</span><span style=\"color: var(--shiki-color-text)\"> { phase</span><span style=\"color: var(--shiki-token-keyword)\">:</span><span style=\"color: var(--shiki-color-text)\"> [Phase] });</span></li><li value=\"35\"><span style=\"color: var(--shiki-color-text)\">  </span><a href=\"/rsh/appinit/#rsh_init\" title=\"rsh: init\"><span style=\"color: var(--shiki-token-function)\">init</span></a><span style=\"color: var(--shiki-color-text)\">();</span></li></ol></pre>\n<p>\n  <i id=\"p_51\" class=\"pid\"></i>These events are available in the frontends via the <span class=\"snip\"><a href=\"/frontend/#js_ctc\" title=\"js: ctc\"><span style=\"color: var(--shiki-token-constant)\">ctc</span></a><a href=\"/frontend/#js_ctc.events\" title=\"js: ctc.events\"><span style=\"color: var(--shiki-color-text)\">.events</span></a></span> object.\n  In the DApp, the result of this application argument is referred to as an event object.<a href=\"#p_51\" class=\"pid\">51</a>\n</p>\n<h3 id=\"ref-programs-appinit-contractcode\" class=\"refHeader\">Contract code definition<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ref-programs-appinit-contractcode\"><span class=\"icon icon-link\"></span></a></h3>\n<p>\n  <i id=\"p_52\" class=\"pid\"></i><span class=\"ref\" id=\"rsh_ContractCode\" data-scope=\"rsh\" data-symbol=\"ContractCode\"></span>Reach programs can create new child contracts based on predetermined, static code during compile time.\n  This code is specified with <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ContractCode\" title=\"rsh: ContractCode\"><span style=\"color: var(--shiki-color-text)\">ContractCode</span></a></span>, documented below, but is actually deployed with <span class=\"snip\"><a href=\"/rsh/compute/#rsh_new\" title=\"rsh: new\"><span style=\"color: var(--shiki-token-keyword)\">new</span></a><span style=\"color: var(--shiki-color-text)\"> Contract</span></span> (<span class=\"snip\"><a href=\"/rsh/compute/#rsh_Contract\" title=\"rsh: Contract\"><span style=\"color: var(--shiki-token-constant)\">Contract</span></a><a href=\"/rsh/consensus/#rsh_Contract.new\" title=\"rsh: Contract.new\"><span style=\"color: var(--shiki-color-text)\">.new</span></a></span>), which you can read about in <a href=\"/rsh/consensus/#ref-programs-consensus-new-contract\">Contract creation</a>.<a href=\"#p_52\" class=\"pid\">52</a>\n</p>\n<p><i id=\"p_53\" class=\"pid\"></i>As part of an application's specification, you can indicate some child contracts that may be created with:<a href=\"#p_53\" class=\"pid\">53</a></p>\n<pre class=\"snippet unnumbered\"><div class=\"codeHeader\">&nbsp;<a class=\"far fa-copy copyBtn\" data-clipboard-text=\"const cc = Contract(connectors)\" href=\"#\"></a></div><ol class=\"snippet\"><li value=\"1\"><a href=\"/rsh/compute/#rsh_const\" title=\"rsh: const\"><span style=\"color: var(--shiki-token-keyword)\">const</span></a><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">cc</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-color-text)\"> </span><a href=\"/rsh/compute/#rsh_Contract\" title=\"rsh: Contract\"><span style=\"color: var(--shiki-token-function)\">Contract</span></a><span style=\"color: var(--shiki-color-text)\">(connectors)</span></li></ol></pre>\n<p>\n  <i id=\"p_54\" class=\"pid\"></i>where <code>connectors</code> is an object with one field for each enabled connector.\n  Each connector expects the code for the child to be specified in a different way.<a href=\"#p_54\" class=\"pid\">54</a>\n</p>\n<p><i id=\"p_55\" class=\"pid\"></i>The <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ETH\" title=\"rsh: ETH\"><span style=\"color: var(--shiki-token-constant)\">ETH</span></a></span> connector accepts:<a href=\"#p_55\" class=\"pid\">55</a></p>\n<ul>\n  <li><i id=\"p_56\" class=\"pid\"></i>A literal string of the shape <code>${BASE}.bin</code>, where <code>${BASE}.bin</code> is a file that contains the ASCII hexadecimal encoding of the EVM bytecode.<a href=\"#p_56\" class=\"pid\">56</a></li>\n  <li><i id=\"p_57\" class=\"pid\"></i>A literal string of the shape <code>${BASE}.json:${FILE}:${CONTRACT}</code>, where <code>${BASE}.json</code> is a file that contains the JSON output of the Solidity compiler and <code>${FILE}:${CONTRACT}</code> is a key in the <code>contracts</code> object therein.<a href=\"#p_57\" class=\"pid\">57</a></li>\n  <li>\n    <i id=\"p_58\" class=\"pid\"></i>A literal string of the shape <code>${BASE}.sol:${CONTRACT}</code>, where <code>${BASE}.sol</code> is a Solidity file that defines the contract <code>${CONTRACT}</code>.\n    Reach will call the Solidity compiler it uses internally to compile the file.<a href=\"#p_58\" class=\"pid\">58</a>\n  </li>\n</ul>\n<p><i id=\"p_59\" class=\"pid\"></i>The <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ALGO\" title=\"rsh: ALGO\"><span style=\"color: var(--shiki-token-constant)\">ALGO</span></a></span> connector accepts an object with the keys <code>approval</code> and <code>clearState</code> that may be:<a href=\"#p_59\" class=\"pid\">59</a></p>\n<ul>\n  <li><i id=\"p_60\" class=\"pid\"></i>A literal string of the shape <code>${BASE}.tok</code>, where <code>${BASE}.tok</code> is a file that contains the binary encoding of the AVM bytecode (as produced by <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">goal clerk compile</span></span>.)<a href=\"#p_60\" class=\"pid\">60</a></li>\n  <li>\n    <i id=\"p_61\" class=\"pid\"></i>A literal string of the shape <code>${BASE}.teal</code>, where <code>${BASE}.teal</code> is a TEAL\n    file that defines the program.\n    Reach will call the TEAL compiler it uses internally to compile the file.<a href=\"#p_61\" class=\"pid\">61</a>\n  </li>\n</ul>\n<p>\n  <i id=\"p_62\" class=\"pid\"></i>The value returned (<code>cc</code>) can be used with <span class=\"snip\"><a href=\"/rsh/compute/#rsh_new\" title=\"rsh: new\"><span style=\"color: var(--shiki-token-keyword)\">new</span></a><span style=\"color: var(--shiki-color-text)\"> Contract</span></span> to actually deploy the child contracts.\n  It embeds the actual bytecode of the child contracts, so it can (potentially drastically) expand the size (and thus cost) of deploying the parent contract.<a href=\"#p_62\" class=\"pid\">62</a>\n</p>\n<div class=\"note\">\n  <p><i id=\"p_63\" class=\"pid\"></i>How do I get valid input to <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ContractCode\" title=\"rsh: ContractCode\"><span style=\"color: var(--shiki-color-text)\">ContractCode</span></a></span> from Reach?<a href=\"#p_63\" class=\"pid\">63</a></p>\n  <p><i id=\"p_64\" class=\"pid\"></i>A future version of Reach will accept <span class=\"snip\"><a href=\"/rsh/module/#rsh_Reach\" title=\"rsh: Reach\"><span style=\"color: var(--shiki-token-constant)\">Reach</span></a><a href=\"/rsh/module/#rsh_Reach.App\" title=\"rsh: Reach.App\"><span style=\"color: var(--shiki-color-text)\">.App</span></a></span> values as arguments to <span class=\"snip\"><a href=\"/rsh/appinit/#rsh_ContractCode\" title=\"rsh: ContractCode\"><span style=\"color: var(--shiki-color-text)\">ContractCode</span></a></span>, but until then, the best way to get the necessary files is to use <span class=\"snip\"><span style=\"color: var(--shiki-color-text)\">reach compile </span><span style=\"color: var(--shiki-token-keyword)\">--</span><span style=\"color: var(--shiki-color-text)\">intermediate</span><span style=\"color: var(--shiki-token-keyword)\">-</span><span style=\"color: var(--shiki-color-text)\">files</span></span> and inspect the <code>build</code> directory, which contains the necessary input for each connector.<a href=\"#p_64\" class=\"pid\">64</a></p>\n</div>","<ul><li class=\"dynamic\">\n    <a href=\"#ref-programs-appinit\">Application Initialization</a>\n    <ul class=\"dynamic\">\n      <li class=\"dynamic\">\n        <a href=\"#ref-programs-appinit-stmts\">Statements</a>\n        <ul class=\"dynamic\">\n          <li class=\"dynamic\"><a href=\"#init\"><code>init</code></a></li>\n          <li class=\"dynamic\"><a href=\"#setoptions\"><code>setOptions</code></a></li>\n        </ul>\n      </li>\n      <li class=\"dynamic\">\n        <a href=\"#ref-programs-appinit-exprs\">Expressions</a>\n        <ul class=\"dynamic\">\n          <li class=\"dynamic\"><a href=\"#participant-definition\">Participant Definition</a></li>\n          <li class=\"dynamic\"><a href=\"#ref-programs-appinit-api\">API Definition</a></li>\n          <li class=\"dynamic\"><a href=\"#ref-programs-appinit-view\">View Definition</a></li>\n          <li class=\"dynamic\"><a href=\"#ref-programs-appinit-events\">Events Definition</a></li>\n          <li class=\"dynamic\"><a href=\"#ref-programs-appinit-contractcode\">Contract code definition</a></li>\n        </ul>\n      </li>\n    </ul>\n  </li></ul>"]