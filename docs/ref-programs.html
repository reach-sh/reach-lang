<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1.3&nbsp;Reach Programs</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="minted.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><link rel="stylesheet" type="text/css" href="minted-solarizedlight-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="ref.html" class="tocviewselflink" data-pltdoc="x">Reach Reference</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Reach Tutorials</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>1&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reach Reference</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="ref-install.html" class="tocviewlink" data-pltdoc="x">Installation &amp; Usage</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="ref-model.html" class="tocviewlink" data-pltdoc="x">Language Model</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Reach Programs</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="ref-networks.html" class="tocviewlink" data-pltdoc="x">Consensus Network Connectors</a></td></tr><tr><td align="right">1.5&nbsp;</td><td><a href="ref-backends.html" class="tocviewlink" data-pltdoc="x">Participant Backends</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>1.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Reach Programs</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.3.1&nbsp;</td><td><a href="#%28part._.Source_.Files%29" class="tocviewlink" data-pltdoc="x">Source Files</a></td></tr><tr><td align="right">1.3.2&nbsp;</td><td><a href="#%28part._.Imports%29" class="tocviewlink" data-pltdoc="x">Imports</a></td></tr><tr><td align="right">1.3.3&nbsp;</td><td><a href="#%28part._.Participant_.Definitions%29" class="tocviewlink" data-pltdoc="x">Participant Definitions</a></td></tr><tr><td align="right">1.3.4&nbsp;</td><td><a href="#%28part._.Types%29" class="tocviewlink" data-pltdoc="x">Types</a></td></tr><tr><td align="right">1.3.5&nbsp;</td><td><a href="#%28part._.Identifier_.Definitions%29" class="tocviewlink" data-pltdoc="x">Identifier Definitions</a></td></tr><tr><td align="right">1.3.6&nbsp;</td><td><a href="#%28part._.Blocks%29" class="tocviewlink" data-pltdoc="x">Blocks</a></td></tr><tr><td align="right">1.3.7&nbsp;</td><td><a href="#%28part._.Statements%29" class="tocviewlink" data-pltdoc="x">Statements</a></td></tr><tr><td align="right">1.3.8&nbsp;</td><td><a href="#%28part._.Expressions%29" class="tocviewlink" data-pltdoc="x">Expressions</a></td></tr><tr><td align="right">1.3.9&nbsp;</td><td><a href="#%28part._.Standard_.Library%29" class="tocviewlink" data-pltdoc="x">Standard Library</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.3.1<tt>&nbsp;</tt></span><a href="#%28part._.Source_.Files%29" class="tocsubseclink" data-pltdoc="x">Source Files</a></td></tr><tr><td><span class="tocsublinknumber">1.3.2<tt>&nbsp;</tt></span><a href="#%28part._.Imports%29" class="tocsubseclink" data-pltdoc="x">Imports</a></td></tr><tr><td><span class="tocsublinknumber">1.3.3<tt>&nbsp;</tt></span><a href="#%28part._.Participant_.Definitions%29" class="tocsubseclink" data-pltdoc="x">Participant Definitions</a></td></tr><tr><td><span class="tocsublinknumber">1.3.4<tt>&nbsp;</tt></span><a href="#%28part._.Types%29" class="tocsubseclink" data-pltdoc="x">Types</a></td></tr><tr><td><span class="tocsublinknumber">1.3.5<tt>&nbsp;</tt></span><a href="#%28part._.Identifier_.Definitions%29" class="tocsubseclink" data-pltdoc="x">Identifier Definitions</a></td></tr><tr><td><span class="tocsublinknumber">1.3.6<tt>&nbsp;</tt></span><a href="#%28part._.Blocks%29" class="tocsubseclink" data-pltdoc="x">Blocks</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7<tt>&nbsp;</tt></span><a href="#%28part._.Statements%29" class="tocsubseclink" data-pltdoc="x">Statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7.1<tt>&nbsp;</tt></span><a href="#%28part._.Return_statements%29" class="tocsubseclink" data-pltdoc="x">Return statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7.2<tt>&nbsp;</tt></span><a href="#%28part._.Value_definition_statements%29" class="tocsubseclink" data-pltdoc="x">Value definition statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7.3<tt>&nbsp;</tt></span><a href="#%28part._.Conditional_statements%29" class="tocsubseclink" data-pltdoc="x">Conditional statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7.4<tt>&nbsp;</tt></span><a href="#%28part._.Block_statements%29" class="tocsubseclink" data-pltdoc="x">Block statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.7.5<tt>&nbsp;</tt></span><a href="#%28part._.Expression_statements%29" class="tocsubseclink" data-pltdoc="x">Expression statements</a></td></tr><tr><td><span class="tocsublinknumber">1.3.8<tt>&nbsp;</tt></span><a href="#%28part._.Expressions%29" class="tocsubseclink" data-pltdoc="x">Expressions</a></td></tr><tr><td><span class="tocsublinknumber">1.3.9<tt>&nbsp;</tt></span><a href="#%28part._.Standard_.Library%29" class="tocsubseclink" data-pltdoc="x">Standard Library</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">0.1.0</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-model.html" title="backward to &quot;1.2 Language Model&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref.html" title="up to &quot;1 Reach Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-networks.html" title="forward to &quot;1.4 Consensus Network Connectors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>1.3<tt>&nbsp;</tt><a name="(part._ref-programs)"></a>Reach Programs</h4><p>This document describes the structure and content of Reach programs,
including their syntactic forms and the Reach standard library.</p><h5>1.3.1<tt>&nbsp;</tt><a name="(part._.Source_.Files)"></a>Source Files</h5><p>Reach <a name="(tech._source._file)"></a><span style="font-style: italic">source files</span> are either <a href="#%28tech._executable%29" class="techoutside" data-pltdoc="x"><span class="techinside">executables</span></a> or <a href="#%28tech._library%29" class="techoutside" data-pltdoc="x"><span class="techinside">libraries</span></a>. They are traditionally given the file extension <span class="RktInBG"><span class="hspace"></span><span class="RktIn">rsh</span><span class="hspace"></span></span>, e.g. <span class="stt">"dao.rsh"</span>.</p><p>Reach <a name="(tech._executable)"></a><span style="font-style: italic">executables</span> start with <code class="highlight-inline"><span class="s1">&#39;reach 0.1 exe&#39;</span><span class="p">;</span></code> and are followed by a sequence of <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">imports</span></a>, <a href="#%28tech._participant._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant definitions</span></a>, <a href="#%28tech._identifier._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier definitions</span></a>, and a <a href="#%28tech._main._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">main function</span></a>. The evaluation of the execution is that of the <a href="#%28tech._main._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">main function</span></a>.</p><p>Reach <a name="(tech._library)"></a><span style="font-style: italic">libraries</span> start with <code class="highlight-inline"><span class="s1">&#39;reach 0.1 lib&#39;</span><span class="p">;</span></code> and are followed by a sequence of <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">imports</span></a> and <a href="#%28tech._identifier._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">identifier definitions</span></a>.</p><h5>1.3.2<tt>&nbsp;</tt><a name="(part._.Imports)"></a>Imports</h5><p><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="s2">&quot;games-of-chance.rsh&quot;</span><span class="p">;</span>
</pre></div>
</p><p>When a Reach <a href="#%28tech._source._file%29" class="techoutside" data-pltdoc="x"><span class="techinside">source file</span></a>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span>, contains an <a name="(tech._import)"></a><span style="font-style: italic">import</span>, written <code class="highlight-inline"><span class="kr">import</span> <span class="s2">&quot;LIB.rsh&quot;</span><span class="p">;</span></code>, then the path <span class="stt">"LIB.rsh"</span> must resolve to a file which is a valid <a href="#%28tech._library%29" class="techoutside" data-pltdoc="x"><span class="techinside">library</span></a>. The definitions located in <span class="stt">"LIB.rsh"</span> are included in the set of definitions associated with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span>.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The path given to an <a href="#%28tech._import%29" class="techoutside" data-pltdoc="x"><span class="techinside">import</span></a> may include <span class="RktInBG"><span class="hspace"></span><span class="RktIn">..</span><span class="hspace"></span></span> to specify files outside the current directory.</p></blockquote></blockquote></blockquote><h5>1.3.3<tt>&nbsp;</tt><a name="(part._.Participant_.Definitions)"></a>Participant Definitions</h5><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Alice</span> <span class="o">=</span> <span class="nx">participant</span><span class="p">({</span><span class="nx">_hand</span><span class="o">:</span> <span class="nx">uint256</span><span class="p">});</span>
</pre></div>
</p><p>Reach <a href="#%28tech._executable%29" class="techoutside" data-pltdoc="x"><span class="techinside">executables</span></a> may contain <a name="(tech._participant._definition)"></a><span style="font-style: italic">participant definitions</span>, which are written:</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">PARTICIPANT</span> <span class="o">=</span>
  <span class="nx">participant</span><span class="p">(</span> <span class="p">{</span> <span class="nx">ID_0</span><span class="o">:</span> <span class="nx">TYPE_0</span>
               <span class="p">,</span> <span class="p">...</span>
               <span class="p">,</span> <span class="nx">ID_n</span><span class="o">:</span> <span class="nx">TYPE_n</span><span class="p">}</span> <span class="p">);</span> 
</pre></div>
</p><p>Such a definition defines a <a href="ref-model.html#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> named <code class="highlight-inline"><span class="nx">PARTICIPANT</span></code> with the initial <a href="ref-model.html#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a> <code class="highlight-inline"><span class="nx">ID_0</span></code> through <code class="highlight-inline"><span class="nx">ID_n</span></code> (which are conventionally preceded by an underscore character, i.e. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">_</span><span class="hspace"></span></span>) each having an associated <a href="#%28tech._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">type</span></a> <code class="highlight-inline"><span class="nx">TYPE_0</span></code> through <code class="highlight-inline"><span class="nx">TYPE_n</span></code>.</p><p>When an <a href="#%28tech._executable%29" class="techoutside" data-pltdoc="x"><span class="techinside">executable</span></a> is compiled by a <a href="ref-model.html#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backend</span></a>, each <a href="ref-model.html#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> will be provided as a function parameterized over the initial <a href="ref-model.html#%28tech._local._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">local state</span></a> values. For example,</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Bob</span> <span class="o">=</span> <span class="nx">participant</span><span class="p">({</span><span class="nx">_wagerLimit</span><span class="o">:</span> <span class="nx">uint256</span><span class="p">});</span>
</pre></div>
</p><p>will produce a function, <code class="highlight-inline"><span class="nx">Bob</span></code>, which accepts an argument for the maximum wager any game it participates in may charge.</p><h5>1.3.4<tt>&nbsp;</tt><a name="(part._.Types)"></a>Types</h5><p><div class="SIntrapara">A <a name="(tech._base._type)"></a><span style="font-style: italic">base type</span> is either:
</div><div class="SIntrapara"><ul><li><p><code class="highlight-inline"><span class="nx">address</span></code>, which denotes an <a href="ref-model.html#%28tech._account%29" class="techoutside" data-pltdoc="x"><span class="techinside">account</span></a> <a href="ref-model.html#%28tech._addres%29" class="techoutside" data-pltdoc="x"><span class="techinside">address</span></a>; or,</p></li><li><p><code class="highlight-inline"><span class="nx">uint256</span></code>, which denotes an unsigned integer of 256 bits; or,</p></li><li><p><code class="highlight-inline"><span class="nx">bool</span></code>, which denotes a boolean; or,</p></li><li><p><code class="highlight-inline"><span class="nx">bytes</span></code>, which denotes a string of bytes.</p></li></ul></div></p><p>A <a name="(tech._type)"></a><span style="font-style: italic">type</span> is either a <a href="#%28tech._base._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">base type</span></a> or a statically-sized array of <a href="#%28tech._base._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">base type</span></a> values, written <code class="highlight-inline"><span class="nx">BASE</span><span class="p">[</span><span class="nx">EXPR</span><span class="p">]</span></code> where <code class="highlight-inline"><span class="nx">BASE</span></code> is a <a href="#%28tech._base._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">base type</span></a> and <code class="highlight-inline"><span class="nx">EXPR</span></code> is an <a href="ref-model.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> that statically evaluates to a natural number. For example, the following are all <a href="#%28tech._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">types</span></a>:</p><p><div class="highlight"><pre><span></span><span class="nx">address</span>
<span class="nx">bool</span>
<span class="nx">bool</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="nx">uint256</span><span class="p">[</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span><span class="p">]</span>
<span class="nx">uint256</span><span class="p">[</span><span class="mi">3</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">+</span> <span class="mi">99</span><span class="p">]</span> 
</pre></div>
</p><h5>1.3.5<tt>&nbsp;</tt><a name="(part._.Identifier_.Definitions)"></a>Identifier Definitions</h5><p>An <a name="(tech._identifier._definition)"></a><span style="font-style: italic">identifier definition</span> is either a <a href="#%28tech._value._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">value definition</span></a>, <a href="#%28tech._enumeration%29" class="techoutside" data-pltdoc="x"><span class="techinside">enumeration</span></a>, or <a href="#%28tech._function._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">function definition</span></a>.</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">DELAY</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">[</span> <span class="nx">Good</span><span class="p">,</span> <span class="nx">Bad</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">43</span> <span class="p">];</span> 
</pre></div>
</p><p>A <a name="(tech._value._definition)"></a><span style="font-style: italic">value definition</span> is written <code class="highlight-inline"><span class="kr">const</span> <span class="nx">LHS</span> <span class="o">=</span> <span class="nx">RHS</span><span class="p">;</span></code> where <code class="highlight-inline"><span class="nx">LHS</span></code> is either a single identifier, e.g. <code class="highlight-inline"><span class="nx">isDelicious</span></code>, or an array of identifiers, e.g. <code class="highlight-inline"><span class="p">[</span> <span class="nx">bestSushi</span><span class="p">,</span> <span class="nx">mediumestSushi</span><span class="p">,</span> <span class="nx">worstSushi</span> <span class="p">]</span></code>, and <code class="highlight-inline"><span class="nx">RHS</span></code> is an <a href="ref-model.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a>. <code class="highlight-inline"><span class="nx">RHS</span></code> must evaluate to as many <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> as there are identifiers in <code class="highlight-inline"><span class="nx">LHS</span></code>. Those <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a> are available as the corresponding identifiers in the rest of the program.</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">isHand</span> <span class="o">=</span> <span class="nx">Enum</span><span class="p">([</span><span class="nx">ROCK</span><span class="p">,</span> <span class="nx">PAPER</span><span class="p">,</span> <span class="nx">SCISSORS</span><span class="p">]);</span> 
</pre></div>
</p><p>An <a name="(tech._enumeration)"></a><span style="font-style: italic">enumeration</span>, written <code class="highlight-inline"><span class="kr">const</span> <span class="nx">ENUM</span> <span class="o">=</span> <span class="nx">Enum</span><span class="p">([</span><span class="nx">OPTION_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">OPTION_n</span><span class="p">]);</span></code>, defines the identifiers <code class="highlight-inline"><span class="nx">OPTION_0</span></code> through <code class="highlight-inline"><span class="nx">OPTION_n</span></code> as unique natural numbers and <code class="highlight-inline"><span class="nx">ENUM</span></code> as a function which accepts one numeric argument and returns <code class="highlight-inline"><span class="kc">true</span></code> if and only if it is one of these natural numbers.</p><p><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">randomBool</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">random</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._function._definition)"></a><span style="font-style: italic">function definition</span>, written <code class="highlight-inline"><span class="kd">function</span> <span class="nx">FUN</span><span class="p">(</span><span class="nx">ARG_0</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">ARG_n</span><span class="p">)</span> <span class="nx">BLOCK</span><span class="p">;</span></code>, defines <code class="highlight-inline"><span class="nx">FUN</span></code> as a function which parameterizes its <a name="(tech._function._body)"></a><span style="font-style: italic">function body</span>, the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> <code class="highlight-inline"><span class="nx">BLOCK</span></code>, over the identifiers <code class="highlight-inline"><span class="nx">ARG_0</span></code> through <code class="highlight-inline"><span class="nx">ARG_n</span></code>.</p><p><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._main._function)"></a><span style="font-style: italic">main function</span> is a <a href="#%28tech._function._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">function definition</span></a> with the name <code class="highlight-inline"><span class="nx">main</span></code> and no arguments. The evaluation of the <a href="#%28tech._main._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">main function</span></a> is the same as its <a href="#%28tech._function._body%29" class="techoutside" data-pltdoc="x"><span class="techinside">function body</span></a>.</p><h5>1.3.6<tt>&nbsp;</tt><a name="(part._.Blocks)"></a>Blocks</h5><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="p">{</span> <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">31</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">11</span><span class="p">;</span> <span class="p">}</span>
<span class="p">{</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">y</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Why&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Ecks&quot;</span><span class="p">;</span> <span class="p">}</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._block)"></a><span style="font-style: italic">block</span> is a sequence of <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> surrounded by braces, i.e. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span>.</p><h5>1.3.7<tt>&nbsp;</tt><a name="(part._.Statements)"></a>Statements</h5><p>There are a large variety of different <a name="(tech._statement)"></a><span style="font-style: italic">statements</span> in Reach programs. Each affects the meaning of the subsequent <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a>, which is called its <a name="(tech._tail)"></a><span style="font-style: italic">tail</span>. For example, if <code class="highlight-inline"><span class="p">{</span><span class="nx">X</span><span class="p">;</span> <span class="nx">Y</span><span class="p">;</span> <span class="nx">Z</span><span class="p">;}</span></code> is a <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a>, then <code class="highlight-inline"><span class="nx">X</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is <code class="highlight-inline"><span class="p">{</span><span class="nx">Y</span><span class="p">;</span> <span class="nx">Z</span><span class="p">;}</span></code> and <code class="highlight-inline"><span class="nx">Y</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is <code class="highlight-inline"><span class="p">{</span><span class="nx">Z</span><span class="p">;}</span></code>.</p><p>The remainder of this section enumerates each kind of <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a>.</p><h5>1.3.7.1<tt>&nbsp;</tt><a name="(part._.Return_statements)"></a>Return statements</h5><p><div class="highlight"><pre><span></span><span class="k">return</span> <span class="mi">17</span><span class="p">;</span>
<span class="k">return</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> 
</pre></div>
</p><p>A <a name="(tech._return._statement)"></a><span style="font-style: italic">return statement</span>, written <code class="highlight-inline"><span class="k">return</span> <span class="nx">EXPR</span><span class="p">;</span></code>, where <code class="highlight-inline"><span class="nx">EXPR</span></code> is an <a href="ref-model.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> evaluates to the same <a href="ref-model.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">value</span></a> as <code class="highlight-inline"><span class="nx">EXPR</span></code>. It must have an empty <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>is invalid, because the first <code class="highlight-inline"><span class="k">return</span></code>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> is not empty.</p><h5>1.3.7.2<tt>&nbsp;</tt><a name="(part._.Value_definition_statements)"></a>Value definition statements</h5><p>If a <a href="#%28tech._value._definition%29" class="techoutside" data-pltdoc="x"><span class="techinside">value definition</span></a> occurs in a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> position, then the identifiers are bound in the <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a>&rsquo;s <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<span class="kr">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">z</span><span class="p">;</span> 
</pre></div>
</p><p>evaluates to <code class="highlight-inline"><span class="mi">7</span></code>.</p><h5>1.3.7.3<tt>&nbsp;</tt><a name="(part._.Conditional_statements)"></a>Conditional statements</h5><p><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">&quot;Yes!&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">&quot;No, waaah!&quot;</span><span class="p">;</span> <span class="p">}</span> 
</pre></div>
</p><p>A <a name="(tech._conditional._statement)"></a><span style="font-style: italic">conditional statement</span>, written <code class="highlight-inline"><span class="k">if</span> <span class="nx">COND</span> <span class="nx">TRUE</span> <span class="k">else</span> <span class="nx">FALSE</span></code>, where <code class="highlight-inline"><span class="nx">COND</span></code> is an <a href="ref-model.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a> which evaluates to a boolean and <code class="highlight-inline"><span class="nx">TRUE</span></code> and <code class="highlight-inline"><span class="nx">FALSE</span></code> as <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> (potentially <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statements</span></a>), selects between the <code class="highlight-inline"><span class="nx">TRUE</span></code> <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> and <code class="highlight-inline"><span class="nx">FALSE</span></code> <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> based on whether <code class="highlight-inline"><span class="nx">COND</span></code> evaluates to <code class="highlight-inline"><span class="kc">true</span></code>.</p><p>Both <code class="highlight-inline"><span class="nx">TRUE</span></code> and <code class="highlight-inline"><span class="nx">FALSE</span></code> have empty <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tails</span></a>, i.e. the <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> of the <a href="#%28tech._conditional._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">conditional statement</span></a> is not propagated. For example,</p><p><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">y</span> <span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="k">return</span><span class="p">;</span> <span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="k">return</span><span class="p">;</span> <span class="p">}</span>
<span class="k">return</span> <span class="nx">z</span><span class="p">;</span> 
</pre></div>
</p><p>is erroneous, because the identifier <code class="highlight-inline"><span class="nx">z</span></code> is not bound outside the <a href="#%28tech._conditional._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">conditional statement</span></a>.</p><h5>1.3.7.4<tt>&nbsp;</tt><a name="(part._.Block_statements)"></a>Block statements</h5><p>A <a name="(tech._block._statement)"></a><span style="font-style: italic">block statement</span> is when a <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> occurs in a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> position, then it establishes a local, separate scope for the definitions of identifiers within that <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a>. In other words, the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> is evaluated for effect, but the <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a> of the <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statements</span></a> within the <a href="#%28tech._block%29" class="techoutside" data-pltdoc="x"><span class="techinside">block</span></a> are isolated from the surrounding <a href="#%28tech._tail%29" class="techoutside" data-pltdoc="x"><span class="techinside">tail</span></a>. For example,</p><p><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">x</span><span class="p">;</span> 
</pre></div>
</p><p>evaluates to <code class="highlight-inline"><span class="mi">4</span></code>, but</p><p><div class="highlight"><pre><span></span><span class="p">{</span> <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="k">return</span><span class="p">;</span> <span class="p">}</span>
<span class="k">return</span> <span class="nx">x</span><span class="p">;</span> 
</pre></div>
</p><p>is erroneous, because the identifier <code class="highlight-inline"><span class="nx">x</span></code> is not bound outside the <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statement</span></a>.</p><h5>1.3.7.5<tt>&nbsp;</tt><a name="(part._.Expression_statements)"></a>Expression statements</h5><p><div class="highlight"><pre><span></span><span class="mi">4</span><span class="p">;</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> 
</pre></div>
</p><p>An <a href="ref-model.html#%28tech._expression%29" class="techoutside" data-pltdoc="x"><span class="techinside">expression</span></a>, <code class="highlight-inline"><span class="nx">E</span></code>, in a <a href="#%28tech._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">statement</span></a> position is equivalent to the <a href="#%28tech._block._statement%29" class="techoutside" data-pltdoc="x"><span class="techinside">block statement</span></a> <code class="highlight-inline"><span class="p">{</span> <span class="k">return</span> <span class="nx">E</span><span class="p">;</span> <span class="p">}</span></code>.</p><p>XXX only</p><p>XXX publish + pay + timeout</p><p>XXX commit</p><p>XXX while</p><p>XXX continue</p><h5>1.3.8<tt>&nbsp;</tt><a name="(part._.Expressions)"></a>Expressions</h5><p>XXX</p><h5>1.3.9<tt>&nbsp;</tt><a name="(part._.Standard_.Library)"></a>Standard Library</h5><p>XXX</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ref-model.html" title="backward to &quot;1.2 Language Model&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref.html" title="up to &quot;1 Reach Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-networks.html" title="forward to &quot;1.4 Consensus Network Connectors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>