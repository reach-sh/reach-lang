<p>
  ::: note
  This frontend library relies on the <a href="##ref-backends-rpc">Reach RPC Server</a>.
  :::
</p>
<p>
  A <a href="https://golang.org">Go</a> client library for the
  <a href="##ref-backends-rpc">Reach RPC protocol</a> may be installed by running:
</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1">$ go get github.com/reach-sh/reach-lang/rpc-client/go</li></ol></pre>
<p>
  Once installed, add the following import line to your Go file which will connect
  to the <a href="##ref-backends-rpc">RPC server</a>:
</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0550AE">reachrpc</span><span style="color: #24292F"> </span><span style="color: #0A3069">"</span><span style="color: #953800">github.com/reach-sh/reach-lang/rpc-client/go</span><span style="color: #0A3069">"</span></li></ol></pre>
<p>The library provides the following bindings:</p>
<hr>
<p>${ref((quote go), "reachrpc.Mk")}</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">rpc, rpcCallbacks </span><span style="color: #CF222E">:=</span><span style="color: #24292F"> reachrpc.</span><span style="color: #0550AE">Mk</span><span style="color: #24292F">(opts)</span></li></ol></pre>
<p>
  <code>reachrpc.Mk</code> accepts the ${seclink("ref-backends-rpc-opts")} as a <code>map</code>
  and returns two functions, traditionally called <code>rpc</code> and
  <code>rpcCallbacks</code>.
</p>
<p>
  ${ref((quote go), "rpc")}
  <code>rpc</code> is a function that invokes a synchronous value RPC method.
  It takes a string, naming the RPC method, and some JSON values to provide as arguments.
  It returns a single JSON value as the result.
</p>
<p>For example,</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #0550AE">rpc</span><span style="color: #24292F">(</span><span style="color: #0A3069">"/stdlib/formatCurrency"</span><span style="color: #24292F">, i, </span><span style="color: #0550AE">4</span><span style="color: #24292F">).(</span><span style="color: #CF222E">string</span><span style="color: #24292F">)</span></li></ol></pre>
<p>calls <code>formatCurrency</code> with some value <code>i</code> and <code>4</code> and returns the result as a string.</p>
<p>
  ${ref((quote go), "rpcCallbacks")}
  <code>rpcCallbacks</code> is a function that invokes an interactive RPC method, such as for a backend.
  It takes a string, naming the RPC method, a JSON value as an argument, and map from strings to JSON values or functions.
  The functions will be provided as interactive RPC callbacks to the RPC method and should expect JSON values as arguments and return a JSON value as a result.
  It returns <code>void</code>.
</p>
<p>For example,</p>
<pre class="snippet numbered"><ol class="snippet"><li value="1"><span style="color: #24292F">showX </span><span style="color: #CF222E">:=</span><span style="color: #24292F"> </span><span style="color: #CF222E">func</span><span style="color: #24292F">(xo </span><span style="color: #CF222E">interface</span><span style="color: #24292F">{}) {</span></li><li value="2"><span style="color: #24292F">  x </span><span style="color: #CF222E">:=</span><span style="color: #24292F"> </span><span style="color: #0550AE">int</span><span style="color: #24292F">(</span><span style="color: #0550AE">rpc</span><span style="color: #24292F">(</span><span style="color: #0A3069">"/stdlib/bigNumberToNumber"</span><span style="color: #24292F">, xo).(</span><span style="color: #CF222E">float64</span><span style="color: #24292F">))</span></li><li value="3"><span style="color: #24292F">  fmt.</span><span style="color: #0550AE">Printf</span><span style="color: #24292F">(</span><span style="color: #0A3069">"Alice saw that X is </span><span style="color: #0550AE">%f\n</span><span style="color: #0A3069">"</span><span style="color: #24292F">, x)</span></li><li value="4"><span style="color: #24292F">}</span></li><li value="5"><span style="color: #24292F">ms </span><span style="color: #CF222E">:=</span><span style="color: #24292F"> </span><span style="color: #CF222E">map</span><span style="color: #24292F">[</span><span style="color: #CF222E">string</span><span style="color: #24292F">]</span><span style="color: #CF222E">interface</span><span style="color: #24292F">{} {</span></li><li value="6"><span style="color: #24292F">  </span><span style="color: #0A3069">"price"</span><span style="color: #24292F">: </span><span style="color: #0550AE">10</span><span style="color: #24292F">,</span></li><li value="7"><span style="color: #24292F">  </span><span style="color: #0A3069">"showX"</span><span style="color: #24292F">: showX,</span></li><li value="8"><span style="color: #24292F">}</span></li><li value="9"><span style="color: #0550AE">rpcCallbacks</span><span style="color: #24292F">(</span><span style="color: #0A3069">"/backend/Alice"</span><span style="color: #24292F">, ctc, ms)</span></li></ol></pre>
<p>calls a backend named <code>Alice</code> with the contract <code>ctc</code> and a value named <code>price</code> and a method named <code>showX</code> that prints out a result from the Reach backend.</p>