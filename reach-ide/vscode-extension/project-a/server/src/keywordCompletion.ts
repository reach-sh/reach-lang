import { CompletionItemKind } from 'vscode-languageserver';

type CompletionMap = { [key : string]: CompletionItemKind }

const ArrayMethodCompletion: CompletionMap = {
  'all': CompletionItemKind.Method,
  'and': CompletionItemKind.Method,
  'any': CompletionItemKind.Method,
  'average': CompletionItemKind.Method,
  'concat': CompletionItemKind.Method,
  'count': CompletionItemKind.Method,
  'empty': CompletionItemKind.Method,
  'findIndex': CompletionItemKind.Method,
  'forEach': CompletionItemKind.Method,
	'includes': CompletionItemKind.Method,
	'indexOf': CompletionItemKind.Method,
	'iota': CompletionItemKind.Method,
  'length': CompletionItemKind.Method,
  'map': CompletionItemKind.Method,
  'max': CompletionItemKind.Method,
  'min': CompletionItemKind.Method,
  'or': CompletionItemKind.Method,
  'product': CompletionItemKind.Method,
  'reduce': CompletionItemKind.Method,
  'replicate': CompletionItemKind.Method,
  'set': CompletionItemKind.Method,
  'sum': CompletionItemKind.Method,
  'zip': CompletionItemKind.Method,
};

export const addPrefix = (o: CompletionMap, s: string) =>
  Object.entries(o).reduce((acc, [k, v]) => {
    acc[s + "." + k] = v;
    return acc;
  }, {} as CompletionMap);

export const reachCompletionKind: CompletionMap = {
  'Address': CompletionItemKind.TypeParameter,
	'array': CompletionItemKind.Function,
  'Array': CompletionItemKind.TypeParameter,
  ...ArrayMethodCompletion,
  ...addPrefix(ArrayMethodCompletion, 'Array'),
  'assert': CompletionItemKind.Function,
	'assume': CompletionItemKind.Function,
	'balance': CompletionItemKind.Function,
  'Bool': CompletionItemKind.TypeParameter,
  'Bytes': CompletionItemKind.TypeParameter,
  'checkCommitment': CompletionItemKind.Function,
  'closeTo': CompletionItemKind.Function,
  'compose': CompletionItemKind.Function,
	'connectors': CompletionItemKind.Field,
  'const': CompletionItemKind.Keyword,
	'continue': CompletionItemKind.Keyword,
  'commit': CompletionItemKind.Function,
  'concat': CompletionItemKind.Function,
  'Data': CompletionItemKind.TypeParameter,
  'declassify': CompletionItemKind.Function,
  'deployMode': CompletionItemKind.Field,
  'digest': CompletionItemKind.Function,
  'Digest': CompletionItemKind.TypeParameter,
  'each': CompletionItemKind.Method,
  'Either': CompletionItemKind.TypeParameter,
  'ensure': CompletionItemKind.Function,
  'exit': CompletionItemKind.Function,
  'export': CompletionItemKind.Keyword,
  'fail': CompletionItemKind.Function,
  'FixedPoint': CompletionItemKind.TypeParameter,
  'forall': CompletionItemKind.Function,
  'forEach': CompletionItemKind.Function,
  'fromLeft': CompletionItemKind.Function,
  'fromRight': CompletionItemKind.Function,
  'Fun': CompletionItemKind.TypeParameter,
  'fromMaybe': CompletionItemKind.Function,
  'function': CompletionItemKind.Keyword,
  'fx': CompletionItemKind.Function,
  'fxint': CompletionItemKind.Function,
  'fxrescale': CompletionItemKind.Function,
  'fxunify': CompletionItemKind.Function,
  'fxadd': CompletionItemKind.Function,
  'fxsub': CompletionItemKind.Function,
  'fxmul': CompletionItemKind.Function,
  'fxdiv': CompletionItemKind.Function,
  'fxmod': CompletionItemKind.Function,
  'fxfloor': CompletionItemKind.Function,
  'fxsqrt': CompletionItemKind.Function,
  'fxpow': CompletionItemKind.Function,
  'fxpowi': CompletionItemKind.Function,
  'fxpowui': CompletionItemKind.Function,
  'fxcmp': CompletionItemKind.Function,
  'fxle': CompletionItemKind.Function,
  'fxlt': CompletionItemKind.Function,
  'fxge': CompletionItemKind.Function,
  'fxgt': CompletionItemKind.Function,
  'fxeq': CompletionItemKind.Function,
  'fxne': CompletionItemKind.Function,
  'hasRandom': CompletionItemKind.Function,
  'iadd': CompletionItemKind.Function,
  'isub': CompletionItemKind.Function,
  'imul': CompletionItemKind.Function,
  'idiv': CompletionItemKind.Function,
  'imod': CompletionItemKind.Function,
  'ilt': CompletionItemKind.Function,
  'ile': CompletionItemKind.Function,
  'igt': CompletionItemKind.Function,
  'ige': CompletionItemKind.Function,
  'ieq': CompletionItemKind.Function,
  'ine': CompletionItemKind.Function,
	'if': CompletionItemKind.Keyword,
  'implies': CompletionItemKind.Function,
	'import': CompletionItemKind.Keyword,
  'int': CompletionItemKind.Function,
  'Int': CompletionItemKind.TypeParameter,
  'interact': CompletionItemKind.Struct,
  'isLeft': CompletionItemKind.Function,
  'isNone': CompletionItemKind.Function,
  'isRight': CompletionItemKind.Function,
  'isSome': CompletionItemKind.Function,
  'length': CompletionItemKind.Function,
  'makeCommitment': CompletionItemKind.Function,
  'makeEnum': CompletionItemKind.Function,
	'map': CompletionItemKind.Function,
  'Maybe': CompletionItemKind.TypeParameter,
  'Neg': CompletionItemKind.Variable,
	'Null': CompletionItemKind.TypeParameter,
  'Object': CompletionItemKind.TypeParameter,
	'Object.set': CompletionItemKind.Method,
	'only': CompletionItemKind.Method,
  'Participant': CompletionItemKind.Constructor,
  'ParticipantClass': CompletionItemKind.Constructor,
  'Participant.set': CompletionItemKind.Method,
	'pay': CompletionItemKind.Method,
  'Pos': CompletionItemKind.Variable,
  'possible': CompletionItemKind.Function,
  'pow': CompletionItemKind.Function,
  'publish': CompletionItemKind.Method,
	'Reach.App': CompletionItemKind.Function,
  'reduce': CompletionItemKind.Function,
  'require': CompletionItemKind.Function,
  'return': CompletionItemKind.Keyword,
  'set': CompletionItemKind.Function,
  'sqrt': CompletionItemKind.Function,
  'switch': CompletionItemKind.Keyword,
  'timeout': CompletionItemKind.Method,
  'time_remaining': CompletionItemKind.Method,
  'transfer': CompletionItemKind.Function,
  'Tuple': CompletionItemKind.TypeParameter,
  'Tuple.length': CompletionItemKind.Method,
	'Tuple.set': CompletionItemKind.Method,
  'UInt': CompletionItemKind.TypeParameter,
  'unknowable': CompletionItemKind.Function,
  'verifyOverflow': CompletionItemKind.Field,
  'verifyPerConnector': CompletionItemKind.Field,
  'wait': CompletionItemKind.Function,
  'while': CompletionItemKind.Keyword,
  'xor': CompletionItemKind.Function,
  'zip': CompletionItemKind.Function,
};

export const reachKeywords = Object.keys(reachCompletionKind);
